resource "job-execution" "null" {
  code = "ansibleTower.job.26.5132"
  name = "aaa - hello world"
  category = "ansibleTower.job.26"
  configRole = "helloworld.yml"
  configSettings = "{\"morpheus\": {\"sshKey\": null, \"maxMemory\": 2147483648, \"ansibleTowerJobTemplateId\": \"116\", \"results\": {}, \"evars\": {\"HOST_INTERNAL\": \"container3015\", \"INSTANCE_HOSTNAME\": \"at-ansible-instance\", \"IP_INTERNAL\": \"10.32.23.59\", \"IP_PUBLIC\": \"10.32.23.59\", \"HOST_EXTERNAL\": \"at-ansible-instance\", \"PORT_22\": 22}, \"vmwareFolderId\": \"/\", \"networkId\": null, \"poolProviderType\": null, \"ansibleTowerGitRef\": null, \"resourcePoolId\": \"pool-602\", \"group\": {\"serviceRegistryId\": \"\", \"code\": null, \"name\": \"All Groups\", \"datacenterId\": null, \"configManagementId\": \"26\", \"location\": null, \"configCmdbDiscovery\": false}, \"zone\": {\"profile\": {}, \"code\": \"vmware\", \"firewallEnabled\": true, \"name\": \"AT VMware Cloud\", \"domainName\": \"localdomain\", \"cloudTypeName\": \"VMware vCenter\", \"datacenterId\": null, \"regionCode\": \"09072d41b2382af69e6ea5a70493b15e\", \"agentMode\": \"cloudInit\", \"location\": null, \"cloudTypeCode\": \"vmware\", \"scalePriority\": 1}, \"cloudName\": \"AT VMware Cloud\", \"ansibleTowerIntegrationId\": \"26\", \"groupName\": \"All Groups\", \"input\": {\"computedName\": null, \"powerScheduleType\": \"1\", \"lbInstances\": [], \"hostName\": \"at-ansible-instance\", \"site\": {\"id\": 2}, \"scaleTypeId\": null, \"configEnabled\": false, \"instanceType\": {\"code\": null}, \"cloud\": {}, \"expireDays\": null, \"layout\": {\"code\": \"vmware-centos-7.5-single\", \"id\": 308}, \"copies\": 1, \"zoneId\": 14, \"version\": null, \"servicePlanOptions\": {\"coresPerSocket\": 2, \"totalStorage\": 10, \"maxCores\": 2, \"maxMemory\": 2147483648, \"forPlan\": 7595}, \"userGroup\": {\"id\": \"\"}, \"appDeploy\": null, \"type\": \"centos\", \"metadata\": null, \"exposedPorts\": {\"loadBalanceProtocol\": [], \"port\": [], \"name\": []}, \"plan\": {\"id\": 7595}, \"instanceContext\": null, \"group\": {}, \"domainOptions\": null, \"taskSetId\": 19, \"name\": \"at-ansible-instance\", \"environmentPrefix\": null, \"shutdownDays\": null, \"config\": {\"poolProviderType\": null, \"hostId\": null, \"nestedVirtualization\": null, \"expose\": [], \"isEC2\": false, \"smbiosAssetTag\": null, \"resourcePoolId\": \"pool-602\", \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"noAgent\": true, \"createUser\": true, \"memoryDisplay\": \"MB\", \"isVpcSelectable\": true}, \"instanceThresholdId\": null, \"layoutSize\": null, \"environmentVariables\": null, \"computedHostName\": null, \"servicePlanId\": 7595, \"securityGroups\": null, \"replicationGroup\": null, \"backup\": {\"createBackup\": false, \"providerBackupType\": -1, \"jobAction\": \"new\", \"veeamManagedServer\": \"\", \"jobRetentionCount\": 3}}, \"folder\": \"/\", \"memoryDisplay\": \"MB\", \"userId\": 6, \"localScriptGitRef\": null, \"tenantSubdomain\": 1, \"vmwareUsr\": null, \"password\": null, \"resourcePool\": \"pool-602\", \"server\": {\"commType\": \"ssh\", \"macAddress\": null, \"internalName\": null, \"apiKey\": \"7529c1ef-9498-49e0-b18a-4402d1837a85\", \"lvmEnabled\": false, \"nestedVirtualization\": null, \"toolsInstalled\": true, \"vmxHardwareVersion\": \"vmx-09\", \"maxMemory\": 2147483648, \"isEC2\": false, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"lastAgentUpdate\": null, \"sshPort\": 22, \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"configId\": null, \"osType\": \"linux\", \"sshUsername\": \"asingh\", \"tags\": \"\", \"id\": 8627, \"consolePort\": null, \"category\": null, \"poolProviderType\": null, \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"resourcePoolId\": \"pool-602\", \"uuid\": \"75563416-958c-4a13-9d66-2de34752d525\", \"platform\": \"linux\", \"serverType\": \"vm\", \"computeTypeName\": \"unknown\", \"maxStorage\": 10737418240, \"externalId\": \"vm-195793\", \"serverTypeName\": \"VMware Linux VM\", \"osTypeCode\": \"cent.7.64\", \"consoleHost\": null, \"externalIp\": \"10.32.23.59\", \"managed\": true, \"metadata\": {}, \"status\": \"provisioned\", \"consoleType\": null, \"hostId\": null, \"description\": null, \"internalId\": \"502db117-9043-0426-ccfc-5f7d90d24b41\", \"softwareRaid\": false, \"createdByUser\": {\"username\": \"asingh\", \"displayName\": \"ATUL SINGH\", \"firstName\": \"ATUL\", \"lastName\": \"SINGH\", \"linuxUsername\": \"asingh\", \"email\": \"asingh2@morpheusdata.com\", \"windowsUsername\": \"asingh\", \"id\": 1, \"accountId\": 1}, \"interfaces\": [{\"macAddress\": \"00:50:56:ad:ba:dc\", \"networkPosition\": null, \"network\": {\"name\": \"VLAN0002 - Internal Server 2\", \"vlanId\": 0, \"netmask\": null, \"cidr\": null, \"gateway\": null, \"cidrMask\": null}, \"ipv6Address\": \"fe80::250:56ff:fead:badc\", \"interfaceId\": null, \"ipMode\": null, \"ipv6Subnet\": null, \"vlanId\": null, \"dhcp\": true, \"ipSubnet\": null, \"ipAddress\": \"10.32.23.59\"}], \"computeTypeCode\": \"unknown\", \"visibility\": \"private\", \"smbiosAssetTag\": null, \"sourceImageId\": 210, \"serviceVersion\": null, \"internalIp\": \"10.32.23.59\", \"serverModel\": null, \"plan\": \"at.customplan\", \"createUser\": true, \"platformVersion\": null, \"powerState\": \"on\", \"dateCreated\": \"2024-04-12T10:15:00Z\", \"parentServerId\": 4188, \"maxCores\": 2, \"isVpcSelectable\": true, \"serialNumber\": null, \"agentVersion\": null, \"internalSshUsername\": null, \"displayName\": \"at-ansible-instance\", \"name\": \"at-ansible-instance\", \"configRole\": null, \"domainName\": null, \"noAgent\": true, \"dataDevice\": \"/dev/vda\", \"fqdn\": \"at-ansible-instance\", \"serverVendor\": null, \"serverTypeCode\": \"vmwareVm\", \"sshHost\": \"10.32.23.59\", \"statusMessage\": null, \"volumes\": [{\"deviceName\": \"/dev/sda\", \"name\": \"root\", \"internalId\": \"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\", \"unitNumber\": \"0\", \"maxStorage\": 10737418240, \"rootVolume\": true, \"uniqueId\": \"morpheus-vol-586-3015-0\", \"externalId\": \"2000\", \"id\": 17044, \"displayOrder\": 0}], \"configGroup\": null, \"consoleUsername\": null, \"agentInstalled\": false, \"nodePackageVersion\": null, \"osDevice\": \"/dev/vda\", \"hostname\": \"at-ansible-instance\", \"uniqueId\": \"422d278c-d7d6-129b-e299-8ab88e507ef4\"}, \"cpuCount\": null, \"hosts\": {\"container3015\": \"127.0.0.1\"}, \"serverId\": \"null\", \"userInitials\": \"ss\", \"maxCpu\": null, \"sequence\": 1, \"ansibleTowerInventoryId\": \"33\", \"executeMode\": \"executeHost\", \"port\": null, \"accountId\": 1, \"externalIp\": \"10.32.23.59\", \"container\": {\"configGroup\": null, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"version\": \"unknown\", \"nestedVirtualization\": null, \"storage\": 10737418240, \"maxMemory\": 2147483648, \"isEC2\": false, \"portMap\": {\"rpc\": {\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}}, \"vm\": true, \"vmwarePwd\": null, \"certificateStyle\": null, \"evars\": {}, \"executeMode\": \"executeHost\", \"changeManagementExtId\": null, \"vmwareFolderId\": \"/\", \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"configId\": null, \"containerTypeShortName\": \"centos\", \"server\": {\"commType\": \"ssh\", \"macAddress\": null, \"internalName\": null, \"apiKey\": \"7529c1ef-9498-49e0-b18a-4402d1837a85\", \"lvmEnabled\": false, \"nestedVirtualization\": null, \"toolsInstalled\": true, \"vmxHardwareVersion\": \"vmx-09\", \"maxMemory\": 2147483648, \"isEC2\": false, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"lastAgentUpdate\": null, \"sshPort\": 22, \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"configId\": null, \"osType\": \"linux\", \"sshUsername\": \"asingh\", \"tags\": \"\", \"id\": 8627, \"consolePort\": null, \"category\": null, \"poolProviderType\": null, \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"resourcePoolId\": \"pool-602\", \"uuid\": \"75563416-958c-4a13-9d66-2de34752d525\", \"platform\": \"linux\", \"serverType\": \"vm\", \"computeTypeName\": \"unknown\", \"maxStorage\": 10737418240, \"externalId\": \"vm-195793\", \"serverTypeName\": \"VMware Linux VM\", \"osTypeCode\": \"cent.7.64\", \"consoleHost\": null, \"externalIp\": \"10.32.23.59\", \"managed\": true, \"metadata\": {}, \"status\": \"provisioned\", \"consoleType\": null, \"hostId\": null, \"description\": null, \"internalId\": \"502db117-9043-0426-ccfc-5f7d90d24b41\", \"softwareRaid\": false, \"createdByUser\": {\"username\": \"asingh\", \"displayName\": \"ATUL SINGH\", \"firstName\": \"ATUL\", \"lastName\": \"SINGH\", \"linuxUsername\": \"asingh\", \"email\": \"asingh2@morpheusdata.com\", \"windowsUsername\": \"asingh\", \"id\": 1, \"accountId\": 1}, \"interfaces\": [{\"macAddress\": \"00:50:56:ad:ba:dc\", \"networkPosition\": null, \"network\": {\"name\": \"VLAN0002 - Internal Server 2\", \"vlanId\": 0, \"netmask\": null, \"cidr\": null, \"gateway\": null, \"cidrMask\": null}, \"ipv6Address\": \"fe80::250:56ff:fead:badc\", \"interfaceId\": null, \"ipMode\": null, \"ipv6Subnet\": null, \"vlanId\": null, \"dhcp\": true, \"ipSubnet\": null, \"ipAddress\": \"10.32.23.59\"}], \"computeTypeCode\": \"unknown\", \"visibility\": \"private\", \"smbiosAssetTag\": null, \"sourceImageId\": 210, \"serviceVersion\": null, \"internalIp\": \"10.32.23.59\", \"serverModel\": null, \"plan\": \"at.customplan\", \"createUser\": true, \"platformVersion\": null, \"powerState\": \"on\", \"dateCreated\": \"2024-04-12T10:15:00Z\", \"parentServerId\": 4188, \"maxCores\": 2, \"isVpcSelectable\": true, \"serialNumber\": null, \"agentVersion\": null, \"internalSshUsername\": null, \"displayName\": \"at-ansible-instance\", \"name\": \"at-ansible-instance\", \"configRole\": null, \"domainName\": null, \"noAgent\": true, \"dataDevice\": \"/dev/vda\", \"fqdn\": \"at-ansible-instance\", \"serverVendor\": null, \"serverTypeCode\": \"vmwareVm\", \"sshHost\": \"10.32.23.59\", \"statusMessage\": null, \"volumes\": [{\"deviceName\": \"/dev/sda\", \"name\": \"root\", \"internalId\": \"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\", \"unitNumber\": \"0\", \"maxStorage\": 10737418240, \"rootVolume\": true, \"uniqueId\": \"morpheus-vol-586-3015-0\", \"externalId\": \"2000\", \"id\": 17044, \"displayOrder\": 0}], \"configGroup\": null, \"consoleUsername\": null, \"agentInstalled\": false, \"nodePackageVersion\": null, \"osDevice\": \"/dev/vda\", \"hostname\": \"at-ansible-instance\", \"uniqueId\": \"422d278c-d7d6-129b-e299-8ab88e507ef4\"}, \"gateway\": null, \"networkInterfaces\": [{\"ipMode\": null, \"ipAddress\": null, \"id\": \"network-448\", \"networkInterfaceTypeId\": 4, \"network\": {\"subnet\": null, \"group\": null, \"name\": \"VLAN0002 - Internal Server 2\", \"dhcpServer\": true, \"id\": 448, \"pool\": null}}], \"networkId\": null, \"poolProviderType\": null, \"resourcePoolId\": \"pool-602\", \"maxCpu\": null, \"storageController\": [{\"busNumber\": \"0\", \"typeId\": 4, \"name\": \"SCSI 0\", \"maxDevices\": 16, \"editable\": false, \"typeName\": \"SCSI LSI Logic Parallel\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"scsi\", \"id\": 52, \"displayOrder\": 0, \"reservedUnitNumber\": 7}, {\"busNumber\": \"1\", \"typeId\": 2, \"name\": \"IDE 1\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 54, \"displayOrder\": 1, \"reservedUnitNumber\": -1}, {\"busNumber\": \"0\", \"typeId\": 2, \"name\": \"IDE 0\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 53, \"displayOrder\": 2, \"reservedUnitNumber\": -1}], \"vmwareUsr\": null, \"image\": \"unknown\", \"hostname\": \"at-ansible-instance\", \"memorySize\": null, \"towerConfig\": {\"host\": {\"externalId\": \"1948\", \"id\": 6270}, \"hosts\": [{\"externalId\": \"1948\", \"id\": 6270}], \"groups\": [{\"externalId\": \"85\", \"id\": 6269}]}, \"id\": 3015, \"coresPerSocket\": 2, \"maxStorage\": 10737418240, \"containerTypeCode\": \"vmware-centos-7.5\", \"osDiskSize\": null, \"maxCores\": 2, \"externalIp\": \"10.32.23.59\", \"memoryDisplay\": \"MB\", \"dnsServers\": null, \"hostMountPoint\": \"/morpheus/container_3015\", \"status\": \"pending\", \"provisionType\": \"vmware\", \"hostId\": null, \"dataPath\": \"unknown\", \"expose\": [], \"memory\": 2147483648, \"externalPort\": 22, \"smbiosAssetTag\": null, \"sshHost\": \"10.32.23.59\", \"netmask\": null, \"storagePodId\": null, \"logsPath\": \"unknown\", \"createUser\": true, \"configRole\": null, \"networkType\": null, \"dateCreated\": \"2024-04-12T10:15:00Z\", \"vmwareCustomSpec\": null, \"folder\": \"/\", \"isVpcSelectable\": true, \"containerTypeName\": \"CentOS 7.5\", \"changeManagementServiceId\": null, \"resourcePool\": \"pool-602\", \"taskSetId\": 19, \"containerTypeCategory\": \"centos\", \"name\": \"centos_3015\", \"planCode\": \"at.customplan\", \"domainName\": \"localdomain\", \"noAgent\": true, \"publicKeyId\": null, \"internalIp\": \"10.32.23.59\", \"certificatePath\": null, \"internalHostname\": \"container3015\", \"configPath\": \"unknown\", \"cpuCount\": null, \"hosts\": {\"container3015\": \"127.0.0.1\"}, \"environmentPrefix\": \"unknown\", \"volumes\": [{\"planResizable\": true, \"typeId\": 1, \"configurableIOPS\": false, \"resizeable\": true, \"id\": 9255, \"displayOrder\": 0, \"size\": 10, \"uuid\": \"f36bc494-c4ab-44ef-890c-8a275ff5bac6\", \"minStorage\": 5368709120, \"maxStorage\": 5368709120, \"rootVolume\": true, \"uniqueId\": null, \"externalId\": \"2000\", \"internalId\": \"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\", \"storageType\": 1, \"virtualImageId\": 210, \"unitNumber\": \"0\", \"name\": \"root\", \"controllerId\": 18296, \"controllerMountPoint\": \"18296:0:4:0\", \"maxIOPS\": null, \"datastoreId\": \"auto\"}], \"cores\": 2, \"serverId\": 8627, \"internalPort\": 22, \"ipAddress\": null, \"ports\": [{\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}], \"datastoreId\": null}, \"isDocker\": false, \"state\": {}, \"maxStorage\": 10737418240, \"dnsServers\": null, \"smbiosAssetTag\": null, \"host\": null, \"networkType\": null, \"isVpcSelectable\": true, \"hostMountPoint\": \"/morpheus/container_3015\", \"noAgent\": true, \"tenantId\": 1, \"nestedVirtualization\": null, \"ansibleTowerExecuteMode\": \"executeHost\", \"gateway\": null, \"cloud\": {\"profile\": {}, \"code\": \"vmware\", \"firewallEnabled\": true, \"name\": \"AT VMware Cloud\", \"domainName\": \"localdomain\", \"cloudTypeName\": \"VMware vCenter\", \"datacenterId\": null, \"regionCode\": \"09072d41b2382af69e6ea5a70493b15e\", \"agentMode\": \"cloudInit\", \"location\": null, \"cloudTypeCode\": \"vmware\", \"scalePriority\": 1}, \"provisionType\": \"vmware\", \"storagePodId\": null, \"platform\": \"linux\", \"apps\": [], \"towerConfig\": {\"host\": {\"externalId\": \"1948\", \"id\": 6270}, \"hosts\": [{\"externalId\": \"1948\", \"id\": 6270}], \"groups\": [{\"externalId\": \"85\", \"id\": 6269}]}, \"coresPerSocket\": 2, \"tenant\": \"MORPHEUS_DATA\", \"osDiskSize\": null, \"type\": \"centos\", \"username\": \"velan\", \"containerName\": \"centos_3015\", \"expose\": [], \"internalIp\": \"10.32.23.59\", \"accountType\": \"unknown\", \"customOptions\": {}, \"account\": \"MORPHEUS_DATA\", \"localScriptGitId\": null, \"ansibleGroup\": null, \"publicKeyId\": null, \"deployOptions\": {}, \"groupCode\": \"All Groups\", \"morpheusUser\": \"morpheus-node\", \"isEC2\": false, \"vm\": true, \"vmwarePwd\": null, \"logTag\": \"container_centos_3015\", \"networkInterfaces\": [{\"ipMode\": null, \"ipAddress\": null, \"id\": \"network-448\", \"networkInterfaceTypeId\": 4, \"network\": {\"subnet\": null, \"group\": null, \"name\": \"VLAN0002 - Internal Server 2\", \"dhcpServer\": true, \"id\": 448, \"pool\": null}}], \"storageController\": [{\"busNumber\": \"0\", \"typeId\": 4, \"name\": \"SCSI 0\", \"maxDevices\": 16, \"editable\": false, \"typeName\": \"SCSI LSI Logic Parallel\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"scsi\", \"id\": 52, \"displayOrder\": 0, \"reservedUnitNumber\": 7}, {\"busNumber\": \"1\", \"typeId\": 2, \"name\": \"IDE 1\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 54, \"displayOrder\": 1, \"reservedUnitNumber\": -1}, {\"busNumber\": \"0\", \"typeId\": 2, \"name\": \"IDE 0\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 53, \"displayOrder\": 2, \"reservedUnitNumber\": -1}], \"hostname\": null, \"memorySize\": null, \"instance\": {\"configGroup\": null, \"powerScheduleType\": \"1\", \"layoutCode\": \"vmware-centos-7.5-single\", \"lbInstances\": [], \"nestedVirtualization\": null, \"storage\": 10737418240, \"isEC2\": false, \"containers\": [{\"configGroup\": null, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"version\": \"unknown\", \"nestedVirtualization\": null, \"storage\": 10737418240, \"maxMemory\": 2147483648, \"isEC2\": false, \"portMap\": {\"rpc\": {\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}}, \"vm\": true, \"vmwarePwd\": null, \"certificateStyle\": null, \"evars\": {}, \"executeMode\": \"executeHost\", \"changeManagementExtId\": null, \"vmwareFolderId\": \"/\", \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"configId\": null, \"containerTypeShortName\": \"centos\", \"server\": {\"commType\": \"ssh\", \"macAddress\": null, \"internalName\": null, \"apiKey\": \"7529c1ef-9498-49e0-b18a-4402d1837a85\", \"lvmEnabled\": false, \"nestedVirtualization\": null, \"toolsInstalled\": true, \"vmxHardwareVersion\": \"vmx-09\", \"maxMemory\": 2147483648, \"isEC2\": false, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"lastAgentUpdate\": null, \"sshPort\": 22, \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"configId\": null, \"osType\": \"linux\", \"sshUsername\": \"asingh\", \"tags\": \"\", \"id\": 8627, \"consolePort\": null, \"category\": null, \"poolProviderType\": null, \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"resourcePoolId\": \"pool-602\", \"uuid\": \"75563416-958c-4a13-9d66-2de34752d525\", \"platform\": \"linux\", \"serverType\": \"vm\", \"computeTypeName\": \"unknown\", \"maxStorage\": 10737418240, \"externalId\": \"vm-195793\", \"serverTypeName\": \"VMware Linux VM\", \"osTypeCode\": \"cent.7.64\", \"consoleHost\": null, \"externalIp\": \"10.32.23.59\", \"managed\": true, \"metadata\": {}, \"status\": \"provisioned\", \"consoleType\": null, \"hostId\": null, \"description\": null, \"internalId\": \"502db117-9043-0426-ccfc-5f7d90d24b41\", \"softwareRaid\": false, \"createdByUser\": {\"username\": \"asingh\", \"displayName\": \"ATUL SINGH\", \"firstName\": \"ATUL\", \"lastName\": \"SINGH\", \"linuxUsername\": \"asingh\", \"email\": \"asingh2@morpheusdata.com\", \"windowsUsername\": \"asingh\", \"id\": 1, \"accountId\": 1}, \"interfaces\": [{\"macAddress\": \"00:50:56:ad:ba:dc\", \"networkPosition\": null, \"network\": {\"name\": \"VLAN0002 - Internal Server 2\", \"vlanId\": 0, \"netmask\": null, \"cidr\": null, \"gateway\": null, \"cidrMask\": null}, \"ipv6Address\": \"fe80::250:56ff:fead:badc\", \"interfaceId\": null, \"ipMode\": null, \"ipv6Subnet\": null, \"vlanId\": null, \"dhcp\": true, \"ipSubnet\": null, \"ipAddress\": \"10.32.23.59\"}], \"computeTypeCode\": \"unknown\", \"visibility\": \"private\", \"smbiosAssetTag\": null, \"sourceImageId\": 210, \"serviceVersion\": null, \"internalIp\": \"10.32.23.59\", \"serverModel\": null, \"plan\": \"at.customplan\", \"createUser\": true, \"platformVersion\": null, \"powerState\": \"on\", \"dateCreated\": \"2024-04-12T10:15:00Z\", \"parentServerId\": 4188, \"maxCores\": 2, \"isVpcSelectable\": true, \"serialNumber\": null, \"agentVersion\": null, \"internalSshUsername\": null, \"displayName\": \"at-ansible-instance\", \"name\": \"at-ansible-instance\", \"configRole\": null, \"domainName\": null, \"noAgent\": true, \"dataDevice\": \"/dev/vda\", \"fqdn\": \"at-ansible-instance\", \"serverVendor\": null, \"serverTypeCode\": \"vmwareVm\", \"sshHost\": \"10.32.23.59\", \"statusMessage\": null, \"volumes\": [{\"deviceName\": \"/dev/sda\", \"name\": \"root\", \"internalId\": \"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\", \"unitNumber\": \"0\", \"maxStorage\": 10737418240, \"rootVolume\": true, \"uniqueId\": \"morpheus-vol-586-3015-0\", \"externalId\": \"2000\", \"id\": 17044, \"displayOrder\": 0}], \"configGroup\": null, \"consoleUsername\": null, \"agentInstalled\": false, \"nodePackageVersion\": null, \"osDevice\": \"/dev/vda\", \"hostname\": \"at-ansible-instance\", \"uniqueId\": \"422d278c-d7d6-129b-e299-8ab88e507ef4\"}, \"gateway\": null, \"networkInterfaces\": [{\"ipMode\": null, \"ipAddress\": null, \"id\": \"network-448\", \"networkInterfaceTypeId\": 4, \"network\": {\"subnet\": null, \"group\": null, \"name\": \"VLAN0002 - Internal Server 2\", \"dhcpServer\": true, \"id\": 448, \"pool\": null}}], \"networkId\": null, \"poolProviderType\": null, \"resourcePoolId\": \"pool-602\", \"maxCpu\": null, \"storageController\": [{\"busNumber\": \"0\", \"typeId\": 4, \"name\": \"SCSI 0\", \"maxDevices\": 16, \"editable\": false, \"typeName\": \"SCSI LSI Logic Parallel\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"scsi\", \"id\": 52, \"displayOrder\": 0, \"reservedUnitNumber\": 7}, {\"busNumber\": \"1\", \"typeId\": 2, \"name\": \"IDE 1\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 54, \"displayOrder\": 1, \"reservedUnitNumber\": -1}, {\"busNumber\": \"0\", \"typeId\": 2, \"name\": \"IDE 0\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 53, \"displayOrder\": 2, \"reservedUnitNumber\": -1}], \"vmwareUsr\": null, \"image\": \"unknown\", \"hostname\": \"at-ansible-instance\", \"memorySize\": null, \"towerConfig\": {\"host\": {\"externalId\": \"1948\", \"id\": 6270}, \"hosts\": [{\"externalId\": \"1948\", \"id\": 6270}], \"groups\": [{\"externalId\": \"85\", \"id\": 6269}]}, \"id\": 3015, \"coresPerSocket\": 2, \"maxStorage\": 10737418240, \"containerTypeCode\": \"vmware-centos-7.5\", \"osDiskSize\": null, \"maxCores\": 2, \"externalIp\": \"10.32.23.59\", \"memoryDisplay\": \"MB\", \"dnsServers\": null, \"hostMountPoint\": \"/morpheus/container_3015\", \"status\": \"pending\", \"provisionType\": \"vmware\", \"hostId\": null, \"dataPath\": \"unknown\", \"expose\": [], \"memory\": 2147483648, \"externalPort\": 22, \"smbiosAssetTag\": null, \"sshHost\": \"10.32.23.59\", \"netmask\": null, \"storagePodId\": null, \"logsPath\": \"unknown\", \"createUser\": true, \"configRole\": null, \"networkType\": null, \"dateCreated\": \"2024-04-12T10:15:00Z\", \"vmwareCustomSpec\": null, \"folder\": \"/\", \"isVpcSelectable\": true, \"containerTypeName\": \"CentOS 7.5\", \"changeManagementServiceId\": null, \"resourcePool\": \"pool-602\", \"taskSetId\": 19, \"containerTypeCategory\": \"centos\", \"name\": \"centos_3015\", \"planCode\": \"at.customplan\", \"domainName\": \"localdomain\", \"noAgent\": true, \"publicKeyId\": null, \"internalIp\": \"10.32.23.59\", \"certificatePath\": null, \"internalHostname\": \"container3015\", \"configPath\": \"unknown\", \"cpuCount\": null, \"hosts\": {\"container3015\": \"127.0.0.1\"}, \"environmentPrefix\": \"unknown\", \"volumes\": [{\"planResizable\": true, \"typeId\": 1, \"configurableIOPS\": false, \"resizeable\": true, \"id\": 9255, \"displayOrder\": 0, \"size\": 10, \"uuid\": \"f36bc494-c4ab-44ef-890c-8a275ff5bac6\", \"minStorage\": 5368709120, \"maxStorage\": 5368709120, \"rootVolume\": true, \"uniqueId\": null, \"externalId\": \"2000\", \"internalId\": \"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\", \"storageType\": 1, \"virtualImageId\": 210, \"unitNumber\": \"0\", \"name\": \"root\", \"controllerId\": 18296, \"controllerMountPoint\": \"18296:0:4:0\", \"maxIOPS\": null, \"datastoreId\": \"auto\"}], \"cores\": 2, \"serverId\": 8627, \"internalPort\": 22, \"ipAddress\": null, \"ports\": [{\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}], \"datastoreId\": null}], \"instanceVersion\": \"7.5\", \"evars\": {\"CENTOS_IP\": {\"export\": true, \"masked\": false, \"value\": \"10.32.23.59\", \"name\": \"CENTOS_IP\"}, \"CENTOS_HOST\": {\"export\": true, \"masked\": false, \"value\": \"container3015\", \"name\": \"CENTOS_HOST\"}}, \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"sslCertId\": null, \"assignedDomainName\": \"\", \"adminUsername\": null, \"instanceLevel\": \"user\", \"id\": 586, \"serviceUsername\": null, \"provisionType\": \"vmware\", \"poolProviderType\": null, \"resourcePoolId\": \"pool-602\", \"container\": {\"configGroup\": null, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"version\": \"unknown\", \"nestedVirtualization\": null, \"storage\": 10737418240, \"maxMemory\": 2147483648, \"isEC2\": false, \"portMap\": {\"rpc\": {\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}}, \"vm\": true, \"vmwarePwd\": null, \"certificateStyle\": null, \"evars\": {}, \"executeMode\": \"executeHost\", \"changeManagementExtId\": null, \"vmwareFolderId\": \"/\", \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"configId\": null, \"containerTypeShortName\": \"centos\", \"server\": {\"commType\": \"ssh\", \"macAddress\": null, \"internalName\": null, \"apiKey\": \"7529c1ef-9498-49e0-b18a-4402d1837a85\", \"lvmEnabled\": false, \"nestedVirtualization\": null, \"toolsInstalled\": true, \"vmxHardwareVersion\": \"vmx-09\", \"maxMemory\": 2147483648, \"isEC2\": false, \"domain\": {\"ouPath\": null, \"name\": \"localdomain\", \"fqdn\": null}, \"lastAgentUpdate\": null, \"sshPort\": 22, \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"configId\": null, \"osType\": \"linux\", \"sshUsername\": \"asingh\", \"tags\": \"\", \"id\": 8627, \"consolePort\": null, \"category\": null, \"poolProviderType\": null, \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"resourcePoolId\": \"pool-602\", \"uuid\": \"75563416-958c-4a13-9d66-2de34752d525\", \"platform\": \"linux\", \"serverType\": \"vm\", \"computeTypeName\": \"unknown\", \"maxStorage\": 10737418240, \"externalId\": \"vm-195793\", \"serverTypeName\": \"VMware Linux VM\", \"osTypeCode\": \"cent.7.64\", \"consoleHost\": null, \"externalIp\": \"10.32.23.59\", \"managed\": true, \"metadata\": {}, \"status\": \"provisioned\", \"consoleType\": null, \"hostId\": null, \"description\": null, \"internalId\": \"502db117-9043-0426-ccfc-5f7d90d24b41\", \"softwareRaid\": false, \"createdByUser\": {\"username\": \"asingh\", \"displayName\": \"ATUL SINGH\", \"firstName\": \"ATUL\", \"lastName\": \"SINGH\", \"linuxUsername\": \"asingh\", \"email\": \"asingh2@morpheusdata.com\", \"windowsUsername\": \"asingh\", \"id\": 1, \"accountId\": 1}, \"interfaces\": [{\"macAddress\": \"00:50:56:ad:ba:dc\", \"networkPosition\": null, \"network\": {\"name\": \"VLAN0002 - Internal Server 2\", \"vlanId\": 0, \"netmask\": null, \"cidr\": null, \"gateway\": null, \"cidrMask\": null}, \"ipv6Address\": \"fe80::250:56ff:fead:badc\", \"interfaceId\": null, \"ipMode\": null, \"ipv6Subnet\": null, \"vlanId\": null, \"dhcp\": true, \"ipSubnet\": null, \"ipAddress\": \"10.32.23.59\"}], \"computeTypeCode\": \"unknown\", \"visibility\": \"private\", \"smbiosAssetTag\": null, \"sourceImageId\": 210, \"serviceVersion\": null, \"internalIp\": \"10.32.23.59\", \"serverModel\": null, \"plan\": \"at.customplan\", \"createUser\": true, \"platformVersion\": null, \"powerState\": \"on\", \"dateCreated\": \"2024-04-12T10:15:00Z\", \"parentServerId\": 4188, \"maxCores\": 2, \"isVpcSelectable\": true, \"serialNumber\": null, \"agentVersion\": null, \"internalSshUsername\": null, \"displayName\": \"at-ansible-instance\", \"name\": \"at-ansible-instance\", \"configRole\": null, \"domainName\": null, \"noAgent\": true, \"dataDevice\": \"/dev/vda\", \"fqdn\": \"at-ansible-instance\", \"serverVendor\": null, \"serverTypeCode\": \"vmwareVm\", \"sshHost\": \"10.32.23.59\", \"statusMessage\": null, \"volumes\": [{\"deviceName\": \"/dev/sda\", \"name\": \"root\", \"internalId\": \"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\", \"unitNumber\": \"0\", \"maxStorage\": 10737418240, \"rootVolume\": true, \"uniqueId\": \"morpheus-vol-586-3015-0\", \"externalId\": \"2000\", \"id\": 17044, \"displayOrder\": 0}], \"configGroup\": null, \"consoleUsername\": null, \"agentInstalled\": false, \"nodePackageVersion\": null, \"osDevice\": \"/dev/vda\", \"hostname\": \"at-ansible-instance\", \"uniqueId\": \"422d278c-d7d6-129b-e299-8ab88e507ef4\"}, \"gateway\": null, \"networkInterfaces\": [{\"ipMode\": null, \"ipAddress\": null, \"id\": \"network-448\", \"networkInterfaceTypeId\": 4, \"network\": {\"subnet\": null, \"group\": null, \"name\": \"VLAN0002 - Internal Server 2\", \"dhcpServer\": true, \"id\": 448, \"pool\": null}}], \"networkId\": null, \"poolProviderType\": null, \"resourcePoolId\": \"pool-602\", \"maxCpu\": null, \"storageController\": [{\"busNumber\": \"0\", \"typeId\": 4, \"name\": \"SCSI 0\", \"maxDevices\": 16, \"editable\": false, \"typeName\": \"SCSI LSI Logic Parallel\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"scsi\", \"id\": 52, \"displayOrder\": 0, \"reservedUnitNumber\": 7}, {\"busNumber\": \"1\", \"typeId\": 2, \"name\": \"IDE 1\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 54, \"displayOrder\": 1, \"reservedUnitNumber\": -1}, {\"busNumber\": \"0\", \"typeId\": 2, \"name\": \"IDE 0\", \"maxDevices\": 2, \"editable\": false, \"typeName\": \"IDE\", \"unitNumber\": null, \"removable\": false, \"active\": true, \"category\": \"ide\", \"id\": 53, \"displayOrder\": 2, \"reservedUnitNumber\": -1}], \"vmwareUsr\": null, \"image\": \"unknown\", \"hostname\": \"at-ansible-instance\", \"memorySize\": null, \"towerConfig\": {\"host\": {\"externalId\": \"1948\", \"id\": 6270}, \"hosts\": [{\"externalId\": \"1948\", \"id\": 6270}], \"groups\": [{\"externalId\": \"85\", \"id\": 6269}]}, \"id\": 3015, \"coresPerSocket\": 2, \"maxStorage\": 10737418240, \"containerTypeCode\": \"vmware-centos-7.5\", \"osDiskSize\": null, \"maxCores\": 2, \"externalIp\": \"10.32.23.59\", \"memoryDisplay\": \"MB\", \"dnsServers\": null, \"hostMountPoint\": \"/morpheus/container_3015\", \"status\": \"pending\", \"provisionType\": \"vmware\", \"hostId\": null, \"dataPath\": \"unknown\", \"expose\": [], \"memory\": 2147483648, \"externalPort\": 22, \"smbiosAssetTag\": null, \"sshHost\": \"10.32.23.59\", \"netmask\": null, \"storagePodId\": null, \"logsPath\": \"unknown\", \"createUser\": true, \"configRole\": null, \"networkType\": null, \"dateCreated\": \"2024-04-12T10:15:00Z\", \"vmwareCustomSpec\": null, \"folder\": \"/\", \"isVpcSelectable\": true, \"containerTypeName\": \"CentOS 7.5\", \"changeManagementServiceId\": null, \"resourcePool\": \"pool-602\", \"taskSetId\": 19, \"containerTypeCategory\": \"centos\", \"name\": \"centos_3015\", \"planCode\": \"at.customplan\", \"domainName\": \"localdomain\", \"noAgent\": true, \"publicKeyId\": null, \"internalIp\": \"10.32.23.59\", \"certificatePath\": null, \"internalHostname\": \"container3015\", \"configPath\": \"unknown\", \"cpuCount\": null, \"hosts\": {\"container3015\": \"127.0.0.1\"}, \"environmentPrefix\": \"unknown\", \"volumes\": [{\"planResizable\": true, \"typeId\": 1, \"configurableIOPS\": false, \"resizeable\": true, \"id\": 9255, \"displayOrder\": 0, \"size\": 10, \"uuid\": \"f36bc494-c4ab-44ef-890c-8a275ff5bac6\", \"minStorage\": 5368709120, \"maxStorage\": 5368709120, \"rootVolume\": true, \"uniqueId\": null, \"externalId\": \"2000\", \"internalId\": \"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\", \"storageType\": 1, \"virtualImageId\": 210, \"unitNumber\": \"0\", \"name\": \"root\", \"controllerId\": 18296, \"controllerMountPoint\": \"18296:0:4:0\", \"maxIOPS\": null, \"datastoreId\": \"auto\"}], \"cores\": 2, \"serverId\": 8627, \"internalPort\": 22, \"ipAddress\": null, \"ports\": [{\"index\": 0, \"displayName\": \"SSH\", \"name\": \"rpc\", \"primaryPort\": false, \"loadBalance\": false, \"exportName\": null, \"protocol\": null, \"visible\": true, \"internal\": 22, \"link\": false, \"external\": 22, \"export\": false, \"loadBalanceProtocol\": null}], \"datastoreId\": null}, \"deployGroup\": null, \"domainName\": \"localdomain\", \"apps\": [], \"hostname\": \"at-ansible-instance\", \"instanceContext\": null, \"userStatus\": \"unknown\", \"createdByEmail\": \"asingh2@morpheusdata.com\", \"tags\": \"unknown\", \"memory\": 2147483648, \"instanceTypeName\": \"CentOS\", \"input\": {\"powerScheduleType\": \"1\", \"lbInstances\": [], \"hostName\": \"at-ansible-instance\", \"site\": {\"id\": 2}, \"scaleTypeId\": null, \"configEnabled\": false, \"instanceType\": {\"code\": null}, \"expireDays\": null, \"layout\": {\"code\": \"vmware-centos-7.5-single\", \"id\": 308}, \"copies\": 1, \"zoneId\": 14, \"servicePlanOptions\": {\"coresPerSocket\": 2, \"totalStorage\": 10, \"maxCores\": 2, \"maxMemory\": 2147483648, \"forPlan\": 7595}, \"userGroup\": {\"id\": \"\"}, \"appDeploy\": null, \"type\": \"centos\", \"metadata\": [], \"exposedPorts\": {\"loadBalanceProtocol\": [], \"port\": [], \"name\": []}, \"plan\": {\"id\": 7595}, \"instanceContext\": null, \"domainOptions\": {}, \"taskSetId\": 19, \"name\": \"at-ansible-instance\", \"environmentPrefix\": null, \"shutdownDays\": null, \"config\": {\"poolProviderType\": null, \"hostId\": null, \"nestedVirtualization\": null, \"expose\": [], \"isEC2\": false, \"smbiosAssetTag\": null, \"resourcePoolId\": \"pool-602\", \"executeMode\": \"executeHost\", \"vmwareFolderId\": \"/\", \"noAgent\": true, \"createUser\": true, \"memoryDisplay\": \"MB\", \"isVpcSelectable\": true}, \"instanceThresholdId\": null, \"layoutSize\": null, \"environmentVariables\": [], \"servicePlanId\": 7595, \"securityGroups\": null, \"replicationGroup\": null, \"backup\": {\"createBackup\": false, \"providerBackupType\": -1, \"jobAction\": \"new\", \"veeamManagedServer\": \"\", \"jobRetentionCount\": 3}}, \"autoScale\": false, \"memoryDisplay\": \"MB\", \"instanceTypeCode\": \"centos\", \"metadata\": {}, \"status\": \"removing\", \"hostId\": null, \"firewallEnabled\": true, \"description\": null, \"adminPassword\": null, \"layoutId\": 308, \"createdByFirstName\": \"ATUL\", \"createdByUser\": {\"username\": \"asingh\", \"displayName\": \"ATUL SINGH\", \"firstName\": \"ATUL\", \"lastName\": \"SINGH\", \"linuxUsername\": \"asingh\", \"email\": \"asingh2@morpheusdata.com\", \"windowsUsername\": \"asingh\", \"id\": 1, \"accountId\": 1}, \"expose\": [], \"smbiosAssetTag\": null, \"networkLevel\": \"container\", \"scheduleStatus\": \"unknown\", \"plan\": \"at.customplan\", \"createUser\": true, \"customOptions\": null, \"servicePassword\": null, \"layoutName\": \"VMware VM\", \"isVpcSelectable\": true, \"createdByLastName\": \"SINGH\", \"expireDate\": null, \"displayName\": \"at-ansible-instance\", \"name\": \"at-ansible-instance\", \"environmentPrefix\": null, \"layoutSize\": 1, \"createdByUsername\": \"asingh\", \"noAgent\": true, \"configId\": null, \"createBackup\": true, \"sslEnabled\": false, \"createdById\": 1, \"statusMessage\": null, \"configRole\": null, \"cores\": 2, \"cloudConfig\": {\"agentInstallTerraform\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"network\": \"version: 1\\nconfig:\\n- type: physical\\n  name: eth0\\n  subnets:\\n  - type: dhcp\\n  mac_address: 00:50:56:ad:ba:dc\\n\", \"finalizeServer\": \"curl -k --data \\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" https://10.32.23.86/api/cloud-config/finalize-server\", \"agentInstallTerraformLinux\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"agentInstallTerraformWindows\": \"cd $$${env:commonprogramfiles(x86)}\\n$serviceName = \\\"Morpheus Windows Agent\\\"\\nStart-Transcript -Path \\t\\\"$$${env:commonprogramfiles(x86)}\\\\morpheus_install_script.log\\\" -Append -Force\\n$msiName = \\\"MorpheusAgentSetup.msi\\\"\\ntry {\\n\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\SOFTWARE\\\\Microsoft\\\\NET Framework Setup\\\\NDP\\\\v4\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\n  if($hasDotNet45 -eq $True) {\\n\\t$msiName = \\\"MorpheusAgentSetup-4_5.msi\\\"\\n  }\\t\\n} catch {\\n}\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\ntry {\\n\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\t\\n} \\nCatch {\\n}\\necho \\\"Downloading...\\\"\\n$dS=$false\\n$dAt=0\\nDo {\\n\\ttry {\\n\\t\\t$df = \\\"$$${env:commonprogramfiles(x86)}\\\\MorpheusAgentSetup.msi\\\"\\n\\t\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\")\\n\\t\\t$file = [System.IO.File]::OpenWrite($df)\\n\\t\\t$bR=1\\n\\t\\t$buf = [array]::createInstance([byte],1000)\\n\\t\\tDo {\\n\\t\\t\\t$bR = $ws.Read($buf,0,$buf.Length)\\n\\t\\t\\t$file.Write($buf,0,$bR)\\n\\t\\t}\\n\\t\\tWhile ($bR -gt 0)\\n\\t\\techo \\\"Agent Downloaded...\\\"\\n\\t\\t$ws.Flush()\\n\\t\\t$file.Flush()\\n\\t\\t$ws.Close()\\n\\t\\t$file.Close()\\n\\t\\t$dS=$true\\n\\t\\tbreak\\n\\t}\\n\\tCatch [Exception] {\\n\\t\\techo $_.Exception|format-list -force\\n\\t\\t$dAt++\\n\\t\\tStart-Sleep -s 10\\n\\t}\\t\\n} While ( $dAt -lt 3 )\\nif ($dS -ne $true) {exit 1}\\nWait-Process -name msiexec\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\n Start-Sleep -s 5\\n try {\\n \\t$serviceId = (get-wmiobject Win32_Product -Filter \\\"Name = 'Morpheus Windows Agent'\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\t\\n } \\n Catch {\\n \\t$serviceId = $df\\n }\\n \\n cmd.exe /c \\\"msiexec /x $serviceId /q /passive\\\"\\n}\\necho \\\"Running Msi\\\"\\n$MSIArguments= @(\\n\\\"/i\\\"\\n\\\"MorpheusAgentSetup.msi\\\"\\n\\\"/qn\\\"\\n\\\"/norestart\\\"\\n\\\"/l*v\\\"\\n\\\"morpheus_install.log\\\"\\n\\\"apiKey=`\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\"\\\"\\n\\\"host=`\\\"https://10.32.23.86/`\\\"\\\"\\n\\\"username=`\\\".\\\\LocalSystem`\\\"\\\"\\n\\\"vmMode=`\\\"true`\\\"\\\" \\n\\\"verifySsl=`\\\"false`\\\"\\\"\\n\\\"logLevel=`\\\"3`\\\"\\\"\\n)\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\n$a = 0\\n$f = 0\\nDo {\\n\\ttry {\\n\\t\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\n\\t\\tif([string]::isNullOrEmpty($err)) {\\n\\t\\t\\t$f = 1\\n\\t\\t\\tBreak\\t\\n\\t\\t} else {\\n\\t\\t\\tstart-sleep -s 10\\n\\t\\t\\t$a++\\n\\t\\t}\\n\\t}\\n\\tCatch {\\n\\t\\tstart-sleep -s 10\\n\\t\\t$a++\\n\\t}\\n}\\nWhile ($a -ne 6)\\nSet-Service $serviceName -startuptype \\\"automatic\\\"\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\"Name='$serviceName'\\\"\\n& sc.exe failure \\\"$serviceName\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\nif ($service -And $service.State -ne \\\"Running\\\") {Restart-Service -displayname $serviceName}\\n\", \"agentInstall\": \"curl -k -s \\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\" | bash\", \"meta\": \"instance-id: morpheus-container-3015\\nlocal-hostname: at-ansible-instance\\nnetwork-interfaces: |\\n  auto lo\\n  iface lo inet loopback\\n  auto eth0\\n  iface eth0 inet dhcp\\n\\n\", \"user\": \"#cloud-config\\n\\nhostname: at-ansible-instance\\npackage_update: false\\npackages:\\n- curl\\nssh_pwauth: true\\ngrowpart:\\n  mode: auto\\n  devices:\\n  - /\\n  ignore_growroot_disabled: true\\nchpasswd:\\n  expire: false\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\nusers:\\n- name: asingh\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\n- name: centos\\n  lock-passwd: false\\n  shell: /bin/bash\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\n  sudo: ALL=(ALL) ALL\\n  ssh-authorized-keys:\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\nmanage_resolv_conf: true\\nresolv_conf:\\n  searchdomains:\\n  - localdomain\\n  - localdomain\\n  domain: localdomain\\nruncmd:\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\n- sed -i \\\"s/^Defaults targetpw/#Defaults targetpw/\\\" /etc/sudoers\\n- service sshd reload\\n- curl -k -XPOST --header \\\"Content-Type:application/octet-stream\\\" --data-binary \\\"@/var/log/cloud-init-output.log\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\n\"}, \"backup\": {\"createBackup\": false, \"providerBackupType\": -1, \"jobAction\": \"new\", \"veeamManagedServer\": \"\", \"jobRetentionCount\": 3}, \"ports\": null}, \"maxCores\": 2, \"hostId\": null, \"user\": {\"username\": \"velan\", \"displayName\": \"Singaravelan Senthilkarasu\", \"firstName\": \"Singaravelan\", \"lastName\": \"Senthilkarasu\", \"linuxUsername\": null, \"email\": \"vsenthilkarasu@morpheusdata.com\", \"windowsUsername\": null, \"id\": 6, \"accountId\": 1}, \"createUser\": true, \"vmwareCustomSpec\": null, \"cloudCode\": \"vmware\", \"taskSetId\": 19, \"domainName\": null, \"netmask\": null, \"volumes\": [{\"planResizable\": true, \"typeId\": 1, \"configurableIOPS\": false, \"resizeable\": true, \"id\": 9255, \"displayOrder\": 0, \"size\": 10, \"uuid\": \"f36bc494-c4ab-44ef-890c-8a275ff5bac6\", \"minStorage\": 5368709120, \"maxStorage\": 5368709120, \"rootVolume\": true, \"uniqueId\": null, \"externalId\": \"2000\", \"internalId\": \"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\", \"storageType\": 1, \"virtualImageId\": 210, \"unitNumber\": \"0\", \"name\": \"root\", \"controllerId\": 18296, \"controllerMountPoint\": \"18296:0:4:0\", \"maxIOPS\": null, \"datastoreId\": \"auto\"}], \"ipAddress\": null, \"datastoreId\": null}}"
  credentialId = "9"
  dateCreated = "2024-04-12T12:09:28.000Z"
  description = "Output Hello World"
  duration = 9
  endDate = "2024-04-12T12:09:49.000Z"
  externalId = "5132"
  externalType = "run"
  inventoryId = "46"
  inventoryName = "atul singh"
  lastUpdated = "2024-04-12T12:09:28.000Z"
  organizationId = "1"
  projectId = "17"
  projectName = "CT-Demo-Project"
  rawData = "{\"id\":5132,\"type\":\"job\",\"url\":\"/api/v2/jobs/5132/\",\"related\":{\"created_by\":\"/api/v2/users/4/\",\"labels\":\"/api/v2/jobs/5132/labels/\",\"inventory\":\"/api/v2/inventories/46/\",\"project\":\"/api/v2/projects/17/\",\"credential\":\"/api/v2/credentials/9/\",\"extra_credentials\":\"/api/v2/jobs/5132/extra_credentials/\",\"credentials\":\"/api/v2/jobs/5132/credentials/\",\"unified_job_template\":\"/api/v2/job_templates/28/\",\"stdout\":\"/api/v2/jobs/5132/stdout/\",\"notifications\":\"/api/v2/jobs/5132/notifications/\",\"job_host_summaries\":\"/api/v2/jobs/5132/job_host_summaries/\",\"job_events\":\"/api/v2/jobs/5132/job_events/\",\"activity_stream\":\"/api/v2/jobs/5132/activity_stream/\",\"job_template\":\"/api/v2/job_templates/28/\",\"cancel\":\"/api/v2/jobs/5132/cancel/\",\"project_update\":\"/api/v2/project_updates/5134/\",\"create_schedule\":\"/api/v2/jobs/5132/create_schedule/\",\"relaunch\":\"/api/v2/jobs/5132/relaunch/\"},\"summary_fields\":{\"instance_group\":{\"id\":1,\"name\":\"tower\"},\"job_template\":{\"id\":28,\"name\":\"aaa - hello world\",\"description\":\"Output Hello World\"},\"inventory\":{\"id\":46,\"name\":\"atul singh\",\"description\":\"\",\"has_active_failures\":true,\"total_hosts\":2,\"hosts_with_active_failures\":2,\"total_groups\":1,\"groups_with_active_failures\":1,\"has_inventory_sources\":false,\"total_inventory_sources\":0,\"inventory_sources_with_failures\":0,\"organization_id\":1,\"kind\":\"\"},\"credential\":{\"kind\":\"ssh\",\"credential_type_id\":1,\"description\":\"\",\"id\":9,\"cloud\":false,\"name\":\"ctaylor\"},\"project_update\":{\"id\":5134,\"name\":\"CT-Demo-Project\",\"description\":\"\",\"status\":\"successful\",\"failed\":false},\"unified_job_template\":{\"id\":28,\"name\":\"aaa - hello world\",\"description\":\"Output Hello World\",\"unified_job_type\":\"job\"},\"project\":{\"id\":17,\"name\":\"CT-Demo-Project\",\"description\":\"\",\"status\":\"successful\",\"scm_type\":\"git\"},\"created_by\":{\"id\":4,\"username\":\"admin\",\"first_name\":\"\",\"last_name\":\"\"},\"user_capabilities\":{\"start\":true,\"delete\":true},\"labels\":{\"count\":0,\"results\":[]},\"extra_credentials\":[],\"credentials\":[{\"kind\":\"ssh\",\"credential_type_id\":1,\"description\":\"\",\"id\":9,\"cloud\":false,\"name\":\"ctaylor\"}]},\"created\":\"2024-04-12T12:09:06.076147Z\",\"modified\":\"2024-04-12T12:09:14.437209Z\",\"name\":\"aaa - hello world\",\"description\":\"Output Hello World\",\"job_type\":\"run\",\"inventory\":46,\"project\":17,\"playbook\":\"helloworld.yml\",\"forks\":0,\"limit\":\"at-ansible-instance.localdomain\",\"verbosity\":0,\"extra_vars\":\"{\\\"morpheus\\\": {\\\"sshKey\\\": null, \\\"maxMemory\\\": 2147483648, \\\"ansibleTowerJobTemplateId\\\": \\\"116\\\", \\\"results\\\": {}, \\\"evars\\\": {\\\"HOST_INTERNAL\\\": \\\"container3015\\\", \\\"INSTANCE_HOSTNAME\\\": \\\"at-ansible-instance\\\", \\\"IP_INTERNAL\\\": \\\"10.32.23.59\\\", \\\"IP_PUBLIC\\\": \\\"10.32.23.59\\\", \\\"HOST_EXTERNAL\\\": \\\"at-ansible-instance\\\", \\\"PORT_22\\\": 22}, \\\"vmwareFolderId\\\": \\\"/\\\", \\\"networkId\\\": null, \\\"poolProviderType\\\": null, \\\"ansibleTowerGitRef\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"group\\\": {\\\"serviceRegistryId\\\": \\\"\\\", \\\"code\\\": null, \\\"name\\\": \\\"All Groups\\\", \\\"datacenterId\\\": null, \\\"configManagementId\\\": \\\"26\\\", \\\"location\\\": null, \\\"configCmdbDiscovery\\\": false}, \\\"zone\\\": {\\\"profile\\\": {}, \\\"code\\\": \\\"vmware\\\", \\\"firewallEnabled\\\": true, \\\"name\\\": \\\"AT VMware Cloud\\\", \\\"domainName\\\": \\\"localdomain\\\", \\\"cloudTypeName\\\": \\\"VMware vCenter\\\", \\\"datacenterId\\\": null, \\\"regionCode\\\": \\\"09072d41b2382af69e6ea5a70493b15e\\\", \\\"agentMode\\\": \\\"cloudInit\\\", \\\"location\\\": null, \\\"cloudTypeCode\\\": \\\"vmware\\\", \\\"scalePriority\\\": 1}, \\\"cloudName\\\": \\\"AT VMware Cloud\\\", \\\"ansibleTowerIntegrationId\\\": \\\"26\\\", \\\"groupName\\\": \\\"All Groups\\\", \\\"input\\\": {\\\"computedName\\\": null, \\\"powerScheduleType\\\": \\\"1\\\", \\\"lbInstances\\\": [], \\\"hostName\\\": \\\"at-ansible-instance\\\", \\\"site\\\": {\\\"id\\\": 2}, \\\"scaleTypeId\\\": null, \\\"configEnabled\\\": false, \\\"instanceType\\\": {\\\"code\\\": null}, \\\"cloud\\\": {}, \\\"expireDays\\\": null, \\\"layout\\\": {\\\"code\\\": \\\"vmware-centos-7.5-single\\\", \\\"id\\\": 308}, \\\"copies\\\": 1, \\\"zoneId\\\": 14, \\\"version\\\": null, \\\"servicePlanOptions\\\": {\\\"coresPerSocket\\\": 2, \\\"totalStorage\\\": 10, \\\"maxCores\\\": 2, \\\"maxMemory\\\": 2147483648, \\\"forPlan\\\": 7595}, \\\"userGroup\\\": {\\\"id\\\": \\\"\\\"}, \\\"appDeploy\\\": null, \\\"type\\\": \\\"centos\\\", \\\"metadata\\\": null, \\\"exposedPorts\\\": {\\\"loadBalanceProtocol\\\": [], \\\"port\\\": [], \\\"name\\\": []}, \\\"plan\\\": {\\\"id\\\": 7595}, \\\"instanceContext\\\": null, \\\"group\\\": {}, \\\"domainOptions\\\": null, \\\"taskSetId\\\": 19, \\\"name\\\": \\\"at-ansible-instance\\\", \\\"environmentPrefix\\\": null, \\\"shutdownDays\\\": null, \\\"config\\\": {\\\"poolProviderType\\\": null, \\\"hostId\\\": null, \\\"nestedVirtualization\\\": null, \\\"expose\\\": [], \\\"isEC2\\\": false, \\\"smbiosAssetTag\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"noAgent\\\": true, \\\"createUser\\\": true, \\\"memoryDisplay\\\": \\\"MB\\\", \\\"isVpcSelectable\\\": true}, \\\"instanceThresholdId\\\": null, \\\"layoutSize\\\": null, \\\"environmentVariables\\\": null, \\\"computedHostName\\\": null, \\\"servicePlanId\\\": 7595, \\\"securityGroups\\\": null, \\\"replicationGroup\\\": null, \\\"backup\\\": {\\\"createBackup\\\": false, \\\"providerBackupType\\\": -1, \\\"jobAction\\\": \\\"new\\\", \\\"veeamManagedServer\\\": \\\"\\\", \\\"jobRetentionCount\\\": 3}}, \\\"folder\\\": \\\"/\\\", \\\"memoryDisplay\\\": \\\"MB\\\", \\\"userId\\\": 6, \\\"localScriptGitRef\\\": null, \\\"tenantSubdomain\\\": 1, \\\"vmwareUsr\\\": null, \\\"password\\\": null, \\\"resourcePool\\\": \\\"pool-602\\\", \\\"server\\\": {\\\"commType\\\": \\\"ssh\\\", \\\"macAddress\\\": null, \\\"internalName\\\": null, \\\"apiKey\\\": \\\"7529c1ef-9498-49e0-b18a-4402d1837a85\\\", \\\"lvmEnabled\\\": false, \\\"nestedVirtualization\\\": null, \\\"toolsInstalled\\\": true, \\\"vmxHardwareVersion\\\": \\\"vmx-09\\\", \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"lastAgentUpdate\\\": null, \\\"sshPort\\\": 22, \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"configId\\\": null, \\\"osType\\\": \\\"linux\\\", \\\"sshUsername\\\": \\\"asingh\\\", \\\"tags\\\": \\\"\\\", \\\"id\\\": 8627, \\\"consolePort\\\": null, \\\"category\\\": null, \\\"poolProviderType\\\": null, \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"uuid\\\": \\\"75563416-958c-4a13-9d66-2de34752d525\\\", \\\"platform\\\": \\\"linux\\\", \\\"serverType\\\": \\\"vm\\\", \\\"computeTypeName\\\": \\\"unknown\\\", \\\"maxStorage\\\": 10737418240, \\\"externalId\\\": \\\"vm-195793\\\", \\\"serverTypeName\\\": \\\"VMware Linux VM\\\", \\\"osTypeCode\\\": \\\"cent.7.64\\\", \\\"consoleHost\\\": null, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"managed\\\": true, \\\"metadata\\\": {}, \\\"status\\\": \\\"provisioned\\\", \\\"consoleType\\\": null, \\\"hostId\\\": null, \\\"description\\\": null, \\\"internalId\\\": \\\"502db117-9043-0426-ccfc-5f7d90d24b41\\\", \\\"softwareRaid\\\": false, \\\"createdByUser\\\": {\\\"username\\\": \\\"asingh\\\", \\\"displayName\\\": \\\"ATUL SINGH\\\", \\\"firstName\\\": \\\"ATUL\\\", \\\"lastName\\\": \\\"SINGH\\\", \\\"linuxUsername\\\": \\\"asingh\\\", \\\"email\\\": \\\"asingh2@morpheusdata.com\\\", \\\"windowsUsername\\\": \\\"asingh\\\", \\\"id\\\": 1, \\\"accountId\\\": 1}, \\\"interfaces\\\": [{\\\"macAddress\\\": \\\"00:50:56:ad:ba:dc\\\", \\\"networkPosition\\\": null, \\\"network\\\": {\\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"vlanId\\\": 0, \\\"netmask\\\": null, \\\"cidr\\\": null, \\\"gateway\\\": null, \\\"cidrMask\\\": null}, \\\"ipv6Address\\\": \\\"fe80::250:56ff:fead:badc\\\", \\\"interfaceId\\\": null, \\\"ipMode\\\": null, \\\"ipv6Subnet\\\": null, \\\"vlanId\\\": null, \\\"dhcp\\\": true, \\\"ipSubnet\\\": null, \\\"ipAddress\\\": \\\"10.32.23.59\\\"}], \\\"computeTypeCode\\\": \\\"unknown\\\", \\\"visibility\\\": \\\"private\\\", \\\"smbiosAssetTag\\\": null, \\\"sourceImageId\\\": 210, \\\"serviceVersion\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"serverModel\\\": null, \\\"plan\\\": \\\"at.customplan\\\", \\\"createUser\\\": true, \\\"platformVersion\\\": null, \\\"powerState\\\": \\\"on\\\", \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"parentServerId\\\": 4188, \\\"maxCores\\\": 2, \\\"isVpcSelectable\\\": true, \\\"serialNumber\\\": null, \\\"agentVersion\\\": null, \\\"internalSshUsername\\\": null, \\\"displayName\\\": \\\"at-ansible-instance\\\", \\\"name\\\": \\\"at-ansible-instance\\\", \\\"configRole\\\": null, \\\"domainName\\\": null, \\\"noAgent\\\": true, \\\"dataDevice\\\": \\\"/dev/vda\\\", \\\"fqdn\\\": \\\"at-ansible-instance\\\", \\\"serverVendor\\\": null, \\\"serverTypeCode\\\": \\\"vmwareVm\\\", \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"statusMessage\\\": null, \\\"volumes\\\": [{\\\"deviceName\\\": \\\"/dev/sda\\\", \\\"name\\\": \\\"root\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\\\", \\\"unitNumber\\\": \\\"0\\\", \\\"maxStorage\\\": 10737418240, \\\"rootVolume\\\": true, \\\"uniqueId\\\": \\\"morpheus-vol-586-3015-0\\\", \\\"externalId\\\": \\\"2000\\\", \\\"id\\\": 17044, \\\"displayOrder\\\": 0}], \\\"configGroup\\\": null, \\\"consoleUsername\\\": null, \\\"agentInstalled\\\": false, \\\"nodePackageVersion\\\": null, \\\"osDevice\\\": \\\"/dev/vda\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"uniqueId\\\": \\\"422d278c-d7d6-129b-e299-8ab88e507ef4\\\"}, \\\"cpuCount\\\": null, \\\"hosts\\\": {\\\"container3015\\\": \\\"127.0.0.1\\\"}, \\\"serverId\\\": \\\"null\\\", \\\"userInitials\\\": \\\"ss\\\", \\\"maxCpu\\\": null, \\\"sequence\\\": 1, \\\"ansibleTowerInventoryId\\\": \\\"33\\\", \\\"executeMode\\\": \\\"executeHost\\\", \\\"port\\\": null, \\\"accountId\\\": 1, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"container\\\": {\\\"configGroup\\\": null, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"version\\\": \\\"unknown\\\", \\\"nestedVirtualization\\\": null, \\\"storage\\\": 10737418240, \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"portMap\\\": {\\\"rpc\\\": {\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}}, \\\"vm\\\": true, \\\"vmwarePwd\\\": null, \\\"certificateStyle\\\": null, \\\"evars\\\": {}, \\\"executeMode\\\": \\\"executeHost\\\", \\\"changeManagementExtId\\\": null, \\\"vmwareFolderId\\\": \\\"/\\\", \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"configId\\\": null, \\\"containerTypeShortName\\\": \\\"centos\\\", \\\"server\\\": {\\\"commType\\\": \\\"ssh\\\", \\\"macAddress\\\": null, \\\"internalName\\\": null, \\\"apiKey\\\": \\\"7529c1ef-9498-49e0-b18a-4402d1837a85\\\", \\\"lvmEnabled\\\": false, \\\"nestedVirtualization\\\": null, \\\"toolsInstalled\\\": true, \\\"vmxHardwareVersion\\\": \\\"vmx-09\\\", \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"lastAgentUpdate\\\": null, \\\"sshPort\\\": 22, \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"configId\\\": null, \\\"osType\\\": \\\"linux\\\", \\\"sshUsername\\\": \\\"asingh\\\", \\\"tags\\\": \\\"\\\", \\\"id\\\": 8627, \\\"consolePort\\\": null, \\\"category\\\": null, \\\"poolProviderType\\\": null, \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"uuid\\\": \\\"75563416-958c-4a13-9d66-2de34752d525\\\", \\\"platform\\\": \\\"linux\\\", \\\"serverType\\\": \\\"vm\\\", \\\"computeTypeName\\\": \\\"unknown\\\", \\\"maxStorage\\\": 10737418240, \\\"externalId\\\": \\\"vm-195793\\\", \\\"serverTypeName\\\": \\\"VMware Linux VM\\\", \\\"osTypeCode\\\": \\\"cent.7.64\\\", \\\"consoleHost\\\": null, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"managed\\\": true, \\\"metadata\\\": {}, \\\"status\\\": \\\"provisioned\\\", \\\"consoleType\\\": null, \\\"hostId\\\": null, \\\"description\\\": null, \\\"internalId\\\": \\\"502db117-9043-0426-ccfc-5f7d90d24b41\\\", \\\"softwareRaid\\\": false, \\\"createdByUser\\\": {\\\"username\\\": \\\"asingh\\\", \\\"displayName\\\": \\\"ATUL SINGH\\\", \\\"firstName\\\": \\\"ATUL\\\", \\\"lastName\\\": \\\"SINGH\\\", \\\"linuxUsername\\\": \\\"asingh\\\", \\\"email\\\": \\\"asingh2@morpheusdata.com\\\", \\\"windowsUsername\\\": \\\"asingh\\\", \\\"id\\\": 1, \\\"accountId\\\": 1}, \\\"interfaces\\\": [{\\\"macAddress\\\": \\\"00:50:56:ad:ba:dc\\\", \\\"networkPosition\\\": null, \\\"network\\\": {\\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"vlanId\\\": 0, \\\"netmask\\\": null, \\\"cidr\\\": null, \\\"gateway\\\": null, \\\"cidrMask\\\": null}, \\\"ipv6Address\\\": \\\"fe80::250:56ff:fead:badc\\\", \\\"interfaceId\\\": null, \\\"ipMode\\\": null, \\\"ipv6Subnet\\\": null, \\\"vlanId\\\": null, \\\"dhcp\\\": true, \\\"ipSubnet\\\": null, \\\"ipAddress\\\": \\\"10.32.23.59\\\"}], \\\"computeTypeCode\\\": \\\"unknown\\\", \\\"visibility\\\": \\\"private\\\", \\\"smbiosAssetTag\\\": null, \\\"sourceImageId\\\": 210, \\\"serviceVersion\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"serverModel\\\": null, \\\"plan\\\": \\\"at.customplan\\\", \\\"createUser\\\": true, \\\"platformVersion\\\": null, \\\"powerState\\\": \\\"on\\\", \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"parentServerId\\\": 4188, \\\"maxCores\\\": 2, \\\"isVpcSelectable\\\": true, \\\"serialNumber\\\": null, \\\"agentVersion\\\": null, \\\"internalSshUsername\\\": null, \\\"displayName\\\": \\\"at-ansible-instance\\\", \\\"name\\\": \\\"at-ansible-instance\\\", \\\"configRole\\\": null, \\\"domainName\\\": null, \\\"noAgent\\\": true, \\\"dataDevice\\\": \\\"/dev/vda\\\", \\\"fqdn\\\": \\\"at-ansible-instance\\\", \\\"serverVendor\\\": null, \\\"serverTypeCode\\\": \\\"vmwareVm\\\", \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"statusMessage\\\": null, \\\"volumes\\\": [{\\\"deviceName\\\": \\\"/dev/sda\\\", \\\"name\\\": \\\"root\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\\\", \\\"unitNumber\\\": \\\"0\\\", \\\"maxStorage\\\": 10737418240, \\\"rootVolume\\\": true, \\\"uniqueId\\\": \\\"morpheus-vol-586-3015-0\\\", \\\"externalId\\\": \\\"2000\\\", \\\"id\\\": 17044, \\\"displayOrder\\\": 0}], \\\"configGroup\\\": null, \\\"consoleUsername\\\": null, \\\"agentInstalled\\\": false, \\\"nodePackageVersion\\\": null, \\\"osDevice\\\": \\\"/dev/vda\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"uniqueId\\\": \\\"422d278c-d7d6-129b-e299-8ab88e507ef4\\\"}, \\\"gateway\\\": null, \\\"networkInterfaces\\\": [{\\\"ipMode\\\": null, \\\"ipAddress\\\": null, \\\"id\\\": \\\"network-448\\\", \\\"networkInterfaceTypeId\\\": 4, \\\"network\\\": {\\\"subnet\\\": null, \\\"group\\\": null, \\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"dhcpServer\\\": true, \\\"id\\\": 448, \\\"pool\\\": null}}], \\\"networkId\\\": null, \\\"poolProviderType\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"maxCpu\\\": null, \\\"storageController\\\": [{\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 4, \\\"name\\\": \\\"SCSI 0\\\", \\\"maxDevices\\\": 16, \\\"editable\\\": false, \\\"typeName\\\": \\\"SCSI LSI Logic Parallel\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"scsi\\\", \\\"id\\\": 52, \\\"displayOrder\\\": 0, \\\"reservedUnitNumber\\\": 7}, {\\\"busNumber\\\": \\\"1\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 1\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 54, \\\"displayOrder\\\": 1, \\\"reservedUnitNumber\\\": -1}, {\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 0\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 53, \\\"displayOrder\\\": 2, \\\"reservedUnitNumber\\\": -1}], \\\"vmwareUsr\\\": null, \\\"image\\\": \\\"unknown\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"memorySize\\\": null, \\\"towerConfig\\\": {\\\"host\\\": {\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}, \\\"hosts\\\": [{\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}], \\\"groups\\\": [{\\\"externalId\\\": \\\"85\\\", \\\"id\\\": 6269}]}, \\\"id\\\": 3015, \\\"coresPerSocket\\\": 2, \\\"maxStorage\\\": 10737418240, \\\"containerTypeCode\\\": \\\"vmware-centos-7.5\\\", \\\"osDiskSize\\\": null, \\\"maxCores\\\": 2, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"memoryDisplay\\\": \\\"MB\\\", \\\"dnsServers\\\": null, \\\"hostMountPoint\\\": \\\"/morpheus/container_3015\\\", \\\"status\\\": \\\"pending\\\", \\\"provisionType\\\": \\\"vmware\\\", \\\"hostId\\\": null, \\\"dataPath\\\": \\\"unknown\\\", \\\"expose\\\": [], \\\"memory\\\": 2147483648, \\\"externalPort\\\": 22, \\\"smbiosAssetTag\\\": null, \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"netmask\\\": null, \\\"storagePodId\\\": null, \\\"logsPath\\\": \\\"unknown\\\", \\\"createUser\\\": true, \\\"configRole\\\": null, \\\"networkType\\\": null, \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"vmwareCustomSpec\\\": null, \\\"folder\\\": \\\"/\\\", \\\"isVpcSelectable\\\": true, \\\"containerTypeName\\\": \\\"CentOS 7.5\\\", \\\"changeManagementServiceId\\\": null, \\\"resourcePool\\\": \\\"pool-602\\\", \\\"taskSetId\\\": 19, \\\"containerTypeCategory\\\": \\\"centos\\\", \\\"name\\\": \\\"centos_3015\\\", \\\"planCode\\\": \\\"at.customplan\\\", \\\"domainName\\\": \\\"localdomain\\\", \\\"noAgent\\\": true, \\\"publicKeyId\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"certificatePath\\\": null, \\\"internalHostname\\\": \\\"container3015\\\", \\\"configPath\\\": \\\"unknown\\\", \\\"cpuCount\\\": null, \\\"hosts\\\": {\\\"container3015\\\": \\\"127.0.0.1\\\"}, \\\"environmentPrefix\\\": \\\"unknown\\\", \\\"volumes\\\": [{\\\"planResizable\\\": true, \\\"typeId\\\": 1, \\\"configurableIOPS\\\": false, \\\"resizeable\\\": true, \\\"id\\\": 9255, \\\"displayOrder\\\": 0, \\\"size\\\": 10, \\\"uuid\\\": \\\"f36bc494-c4ab-44ef-890c-8a275ff5bac6\\\", \\\"minStorage\\\": 5368709120, \\\"maxStorage\\\": 5368709120, \\\"rootVolume\\\": true, \\\"uniqueId\\\": null, \\\"externalId\\\": \\\"2000\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\\\", \\\"storageType\\\": 1, \\\"virtualImageId\\\": 210, \\\"unitNumber\\\": \\\"0\\\", \\\"name\\\": \\\"root\\\", \\\"controllerId\\\": 18296, \\\"controllerMountPoint\\\": \\\"18296:0:4:0\\\", \\\"maxIOPS\\\": null, \\\"datastoreId\\\": \\\"auto\\\"}], \\\"cores\\\": 2, \\\"serverId\\\": 8627, \\\"internalPort\\\": 22, \\\"ipAddress\\\": null, \\\"ports\\\": [{\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}], \\\"datastoreId\\\": null}, \\\"isDocker\\\": false, \\\"state\\\": {}, \\\"maxStorage\\\": 10737418240, \\\"dnsServers\\\": null, \\\"smbiosAssetTag\\\": null, \\\"host\\\": null, \\\"networkType\\\": null, \\\"isVpcSelectable\\\": true, \\\"hostMountPoint\\\": \\\"/morpheus/container_3015\\\", \\\"noAgent\\\": true, \\\"tenantId\\\": 1, \\\"nestedVirtualization\\\": null, \\\"ansibleTowerExecuteMode\\\": \\\"executeHost\\\", \\\"gateway\\\": null, \\\"cloud\\\": {\\\"profile\\\": {}, \\\"code\\\": \\\"vmware\\\", \\\"firewallEnabled\\\": true, \\\"name\\\": \\\"AT VMware Cloud\\\", \\\"domainName\\\": \\\"localdomain\\\", \\\"cloudTypeName\\\": \\\"VMware vCenter\\\", \\\"datacenterId\\\": null, \\\"regionCode\\\": \\\"09072d41b2382af69e6ea5a70493b15e\\\", \\\"agentMode\\\": \\\"cloudInit\\\", \\\"location\\\": null, \\\"cloudTypeCode\\\": \\\"vmware\\\", \\\"scalePriority\\\": 1}, \\\"provisionType\\\": \\\"vmware\\\", \\\"storagePodId\\\": null, \\\"platform\\\": \\\"linux\\\", \\\"apps\\\": [], \\\"towerConfig\\\": {\\\"host\\\": {\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}, \\\"hosts\\\": [{\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}], \\\"groups\\\": [{\\\"externalId\\\": \\\"85\\\", \\\"id\\\": 6269}]}, \\\"coresPerSocket\\\": 2, \\\"tenant\\\": \\\"MORPHEUS_DATA\\\", \\\"osDiskSize\\\": null, \\\"type\\\": \\\"centos\\\", \\\"username\\\": \\\"velan\\\", \\\"containerName\\\": \\\"centos_3015\\\", \\\"expose\\\": [], \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"accountType\\\": \\\"unknown\\\", \\\"customOptions\\\": {}, \\\"account\\\": \\\"MORPHEUS_DATA\\\", \\\"localScriptGitId\\\": null, \\\"ansibleGroup\\\": null, \\\"publicKeyId\\\": null, \\\"deployOptions\\\": {}, \\\"groupCode\\\": \\\"All Groups\\\", \\\"morpheusUser\\\": \\\"morpheus-node\\\", \\\"isEC2\\\": false, \\\"vm\\\": true, \\\"vmwarePwd\\\": null, \\\"logTag\\\": \\\"container_centos_3015\\\", \\\"networkInterfaces\\\": [{\\\"ipMode\\\": null, \\\"ipAddress\\\": null, \\\"id\\\": \\\"network-448\\\", \\\"networkInterfaceTypeId\\\": 4, \\\"network\\\": {\\\"subnet\\\": null, \\\"group\\\": null, \\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"dhcpServer\\\": true, \\\"id\\\": 448, \\\"pool\\\": null}}], \\\"storageController\\\": [{\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 4, \\\"name\\\": \\\"SCSI 0\\\", \\\"maxDevices\\\": 16, \\\"editable\\\": false, \\\"typeName\\\": \\\"SCSI LSI Logic Parallel\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"scsi\\\", \\\"id\\\": 52, \\\"displayOrder\\\": 0, \\\"reservedUnitNumber\\\": 7}, {\\\"busNumber\\\": \\\"1\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 1\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 54, \\\"displayOrder\\\": 1, \\\"reservedUnitNumber\\\": -1}, {\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 0\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 53, \\\"displayOrder\\\": 2, \\\"reservedUnitNumber\\\": -1}], \\\"hostname\\\": null, \\\"memorySize\\\": null, \\\"instance\\\": {\\\"configGroup\\\": null, \\\"powerScheduleType\\\": \\\"1\\\", \\\"layoutCode\\\": \\\"vmware-centos-7.5-single\\\", \\\"lbInstances\\\": [], \\\"nestedVirtualization\\\": null, \\\"storage\\\": 10737418240, \\\"isEC2\\\": false, \\\"containers\\\": [{\\\"configGroup\\\": null, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"version\\\": \\\"unknown\\\", \\\"nestedVirtualization\\\": null, \\\"storage\\\": 10737418240, \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"portMap\\\": {\\\"rpc\\\": {\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}}, \\\"vm\\\": true, \\\"vmwarePwd\\\": null, \\\"certificateStyle\\\": null, \\\"evars\\\": {}, \\\"executeMode\\\": \\\"executeHost\\\", \\\"changeManagementExtId\\\": null, \\\"vmwareFolderId\\\": \\\"/\\\", \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"configId\\\": null, \\\"containerTypeShortName\\\": \\\"centos\\\", \\\"server\\\": {\\\"commType\\\": \\\"ssh\\\", \\\"macAddress\\\": null, \\\"internalName\\\": null, \\\"apiKey\\\": \\\"7529c1ef-9498-49e0-b18a-4402d1837a85\\\", \\\"lvmEnabled\\\": false, \\\"nestedVirtualization\\\": null, \\\"toolsInstalled\\\": true, \\\"vmxHardwareVersion\\\": \\\"vmx-09\\\", \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"lastAgentUpdate\\\": null, \\\"sshPort\\\": 22, \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"configId\\\": null, \\\"osType\\\": \\\"linux\\\", \\\"sshUsername\\\": \\\"asingh\\\", \\\"tags\\\": \\\"\\\", \\\"id\\\": 8627, \\\"consolePort\\\": null, \\\"category\\\": null, \\\"poolProviderType\\\": null, \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"uuid\\\": \\\"75563416-958c-4a13-9d66-2de34752d525\\\", \\\"platform\\\": \\\"linux\\\", \\\"serverType\\\": \\\"vm\\\", \\\"computeTypeName\\\": \\\"unknown\\\", \\\"maxStorage\\\": 10737418240, \\\"externalId\\\": \\\"vm-195793\\\", \\\"serverTypeName\\\": \\\"VMware Linux VM\\\", \\\"osTypeCode\\\": \\\"cent.7.64\\\", \\\"consoleHost\\\": null, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"managed\\\": true, \\\"metadata\\\": {}, \\\"status\\\": \\\"provisioned\\\", \\\"consoleType\\\": null, \\\"hostId\\\": null, \\\"description\\\": null, \\\"internalId\\\": \\\"502db117-9043-0426-ccfc-5f7d90d24b41\\\", \\\"softwareRaid\\\": false, \\\"createdByUser\\\": {\\\"username\\\": \\\"asingh\\\", \\\"displayName\\\": \\\"ATUL SINGH\\\", \\\"firstName\\\": \\\"ATUL\\\", \\\"lastName\\\": \\\"SINGH\\\", \\\"linuxUsername\\\": \\\"asingh\\\", \\\"email\\\": \\\"asingh2@morpheusdata.com\\\", \\\"windowsUsername\\\": \\\"asingh\\\", \\\"id\\\": 1, \\\"accountId\\\": 1}, \\\"interfaces\\\": [{\\\"macAddress\\\": \\\"00:50:56:ad:ba:dc\\\", \\\"networkPosition\\\": null, \\\"network\\\": {\\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"vlanId\\\": 0, \\\"netmask\\\": null, \\\"cidr\\\": null, \\\"gateway\\\": null, \\\"cidrMask\\\": null}, \\\"ipv6Address\\\": \\\"fe80::250:56ff:fead:badc\\\", \\\"interfaceId\\\": null, \\\"ipMode\\\": null, \\\"ipv6Subnet\\\": null, \\\"vlanId\\\": null, \\\"dhcp\\\": true, \\\"ipSubnet\\\": null, \\\"ipAddress\\\": \\\"10.32.23.59\\\"}], \\\"computeTypeCode\\\": \\\"unknown\\\", \\\"visibility\\\": \\\"private\\\", \\\"smbiosAssetTag\\\": null, \\\"sourceImageId\\\": 210, \\\"serviceVersion\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"serverModel\\\": null, \\\"plan\\\": \\\"at.customplan\\\", \\\"createUser\\\": true, \\\"platformVersion\\\": null, \\\"powerState\\\": \\\"on\\\", \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"parentServerId\\\": 4188, \\\"maxCores\\\": 2, \\\"isVpcSelectable\\\": true, \\\"serialNumber\\\": null, \\\"agentVersion\\\": null, \\\"internalSshUsername\\\": null, \\\"displayName\\\": \\\"at-ansible-instance\\\", \\\"name\\\": \\\"at-ansible-instance\\\", \\\"configRole\\\": null, \\\"domainName\\\": null, \\\"noAgent\\\": true, \\\"dataDevice\\\": \\\"/dev/vda\\\", \\\"fqdn\\\": \\\"at-ansible-instance\\\", \\\"serverVendor\\\": null, \\\"serverTypeCode\\\": \\\"vmwareVm\\\", \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"statusMessage\\\": null, \\\"volumes\\\": [{\\\"deviceName\\\": \\\"/dev/sda\\\", \\\"name\\\": \\\"root\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\\\", \\\"unitNumber\\\": \\\"0\\\", \\\"maxStorage\\\": 10737418240, \\\"rootVolume\\\": true, \\\"uniqueId\\\": \\\"morpheus-vol-586-3015-0\\\", \\\"externalId\\\": \\\"2000\\\", \\\"id\\\": 17044, \\\"displayOrder\\\": 0}], \\\"configGroup\\\": null, \\\"consoleUsername\\\": null, \\\"agentInstalled\\\": false, \\\"nodePackageVersion\\\": null, \\\"osDevice\\\": \\\"/dev/vda\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"uniqueId\\\": \\\"422d278c-d7d6-129b-e299-8ab88e507ef4\\\"}, \\\"gateway\\\": null, \\\"networkInterfaces\\\": [{\\\"ipMode\\\": null, \\\"ipAddress\\\": null, \\\"id\\\": \\\"network-448\\\", \\\"networkInterfaceTypeId\\\": 4, \\\"network\\\": {\\\"subnet\\\": null, \\\"group\\\": null, \\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"dhcpServer\\\": true, \\\"id\\\": 448, \\\"pool\\\": null}}], \\\"networkId\\\": null, \\\"poolProviderType\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"maxCpu\\\": null, \\\"storageController\\\": [{\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 4, \\\"name\\\": \\\"SCSI 0\\\", \\\"maxDevices\\\": 16, \\\"editable\\\": false, \\\"typeName\\\": \\\"SCSI LSI Logic Parallel\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"scsi\\\", \\\"id\\\": 52, \\\"displayOrder\\\": 0, \\\"reservedUnitNumber\\\": 7}, {\\\"busNumber\\\": \\\"1\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 1\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 54, \\\"displayOrder\\\": 1, \\\"reservedUnitNumber\\\": -1}, {\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 0\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 53, \\\"displayOrder\\\": 2, \\\"reservedUnitNumber\\\": -1}], \\\"vmwareUsr\\\": null, \\\"image\\\": \\\"unknown\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"memorySize\\\": null, \\\"towerConfig\\\": {\\\"host\\\": {\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}, \\\"hosts\\\": [{\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}], \\\"groups\\\": [{\\\"externalId\\\": \\\"85\\\", \\\"id\\\": 6269}]}, \\\"id\\\": 3015, \\\"coresPerSocket\\\": 2, \\\"maxStorage\\\": 10737418240, \\\"containerTypeCode\\\": \\\"vmware-centos-7.5\\\", \\\"osDiskSize\\\": null, \\\"maxCores\\\": 2, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"memoryDisplay\\\": \\\"MB\\\", \\\"dnsServers\\\": null, \\\"hostMountPoint\\\": \\\"/morpheus/container_3015\\\", \\\"status\\\": \\\"pending\\\", \\\"provisionType\\\": \\\"vmware\\\", \\\"hostId\\\": null, \\\"dataPath\\\": \\\"unknown\\\", \\\"expose\\\": [], \\\"memory\\\": 2147483648, \\\"externalPort\\\": 22, \\\"smbiosAssetTag\\\": null, \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"netmask\\\": null, \\\"storagePodId\\\": null, \\\"logsPath\\\": \\\"unknown\\\", \\\"createUser\\\": true, \\\"configRole\\\": null, \\\"networkType\\\": null, \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"vmwareCustomSpec\\\": null, \\\"folder\\\": \\\"/\\\", \\\"isVpcSelectable\\\": true, \\\"containerTypeName\\\": \\\"CentOS 7.5\\\", \\\"changeManagementServiceId\\\": null, \\\"resourcePool\\\": \\\"pool-602\\\", \\\"taskSetId\\\": 19, \\\"containerTypeCategory\\\": \\\"centos\\\", \\\"name\\\": \\\"centos_3015\\\", \\\"planCode\\\": \\\"at.customplan\\\", \\\"domainName\\\": \\\"localdomain\\\", \\\"noAgent\\\": true, \\\"publicKeyId\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"certificatePath\\\": null, \\\"internalHostname\\\": \\\"container3015\\\", \\\"configPath\\\": \\\"unknown\\\", \\\"cpuCount\\\": null, \\\"hosts\\\": {\\\"container3015\\\": \\\"127.0.0.1\\\"}, \\\"environmentPrefix\\\": \\\"unknown\\\", \\\"volumes\\\": [{\\\"planResizable\\\": true, \\\"typeId\\\": 1, \\\"configurableIOPS\\\": false, \\\"resizeable\\\": true, \\\"id\\\": 9255, \\\"displayOrder\\\": 0, \\\"size\\\": 10, \\\"uuid\\\": \\\"f36bc494-c4ab-44ef-890c-8a275ff5bac6\\\", \\\"minStorage\\\": 5368709120, \\\"maxStorage\\\": 5368709120, \\\"rootVolume\\\": true, \\\"uniqueId\\\": null, \\\"externalId\\\": \\\"2000\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\\\", \\\"storageType\\\": 1, \\\"virtualImageId\\\": 210, \\\"unitNumber\\\": \\\"0\\\", \\\"name\\\": \\\"root\\\", \\\"controllerId\\\": 18296, \\\"controllerMountPoint\\\": \\\"18296:0:4:0\\\", \\\"maxIOPS\\\": null, \\\"datastoreId\\\": \\\"auto\\\"}], \\\"cores\\\": 2, \\\"serverId\\\": 8627, \\\"internalPort\\\": 22, \\\"ipAddress\\\": null, \\\"ports\\\": [{\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}], \\\"datastoreId\\\": null}], \\\"instanceVersion\\\": \\\"7.5\\\", \\\"evars\\\": {\\\"CENTOS_IP\\\": {\\\"export\\\": true, \\\"masked\\\": false, \\\"value\\\": \\\"10.32.23.59\\\", \\\"name\\\": \\\"CENTOS_IP\\\"}, \\\"CENTOS_HOST\\\": {\\\"export\\\": true, \\\"masked\\\": false, \\\"value\\\": \\\"container3015\\\", \\\"name\\\": \\\"CENTOS_HOST\\\"}}, \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"sslCertId\\\": null, \\\"assignedDomainName\\\": \\\"\\\", \\\"adminUsername\\\": null, \\\"instanceLevel\\\": \\\"user\\\", \\\"id\\\": 586, \\\"serviceUsername\\\": null, \\\"provisionType\\\": \\\"vmware\\\", \\\"poolProviderType\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"container\\\": {\\\"configGroup\\\": null, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"version\\\": \\\"unknown\\\", \\\"nestedVirtualization\\\": null, \\\"storage\\\": 10737418240, \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"portMap\\\": {\\\"rpc\\\": {\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}}, \\\"vm\\\": true, \\\"vmwarePwd\\\": null, \\\"certificateStyle\\\": null, \\\"evars\\\": {}, \\\"executeMode\\\": \\\"executeHost\\\", \\\"changeManagementExtId\\\": null, \\\"vmwareFolderId\\\": \\\"/\\\", \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"configId\\\": null, \\\"containerTypeShortName\\\": \\\"centos\\\", \\\"server\\\": {\\\"commType\\\": \\\"ssh\\\", \\\"macAddress\\\": null, \\\"internalName\\\": null, \\\"apiKey\\\": \\\"7529c1ef-9498-49e0-b18a-4402d1837a85\\\", \\\"lvmEnabled\\\": false, \\\"nestedVirtualization\\\": null, \\\"toolsInstalled\\\": true, \\\"vmxHardwareVersion\\\": \\\"vmx-09\\\", \\\"maxMemory\\\": 2147483648, \\\"isEC2\\\": false, \\\"domain\\\": {\\\"ouPath\\\": null, \\\"name\\\": \\\"localdomain\\\", \\\"fqdn\\\": null}, \\\"lastAgentUpdate\\\": null, \\\"sshPort\\\": 22, \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"configId\\\": null, \\\"osType\\\": \\\"linux\\\", \\\"sshUsername\\\": \\\"asingh\\\", \\\"tags\\\": \\\"\\\", \\\"id\\\": 8627, \\\"consolePort\\\": null, \\\"category\\\": null, \\\"poolProviderType\\\": null, \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"uuid\\\": \\\"75563416-958c-4a13-9d66-2de34752d525\\\", \\\"platform\\\": \\\"linux\\\", \\\"serverType\\\": \\\"vm\\\", \\\"computeTypeName\\\": \\\"unknown\\\", \\\"maxStorage\\\": 10737418240, \\\"externalId\\\": \\\"vm-195793\\\", \\\"serverTypeName\\\": \\\"VMware Linux VM\\\", \\\"osTypeCode\\\": \\\"cent.7.64\\\", \\\"consoleHost\\\": null, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"managed\\\": true, \\\"metadata\\\": {}, \\\"status\\\": \\\"provisioned\\\", \\\"consoleType\\\": null, \\\"hostId\\\": null, \\\"description\\\": null, \\\"internalId\\\": \\\"502db117-9043-0426-ccfc-5f7d90d24b41\\\", \\\"softwareRaid\\\": false, \\\"createdByUser\\\": {\\\"username\\\": \\\"asingh\\\", \\\"displayName\\\": \\\"ATUL SINGH\\\", \\\"firstName\\\": \\\"ATUL\\\", \\\"lastName\\\": \\\"SINGH\\\", \\\"linuxUsername\\\": \\\"asingh\\\", \\\"email\\\": \\\"asingh2@morpheusdata.com\\\", \\\"windowsUsername\\\": \\\"asingh\\\", \\\"id\\\": 1, \\\"accountId\\\": 1}, \\\"interfaces\\\": [{\\\"macAddress\\\": \\\"00:50:56:ad:ba:dc\\\", \\\"networkPosition\\\": null, \\\"network\\\": {\\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"vlanId\\\": 0, \\\"netmask\\\": null, \\\"cidr\\\": null, \\\"gateway\\\": null, \\\"cidrMask\\\": null}, \\\"ipv6Address\\\": \\\"fe80::250:56ff:fead:badc\\\", \\\"interfaceId\\\": null, \\\"ipMode\\\": null, \\\"ipv6Subnet\\\": null, \\\"vlanId\\\": null, \\\"dhcp\\\": true, \\\"ipSubnet\\\": null, \\\"ipAddress\\\": \\\"10.32.23.59\\\"}], \\\"computeTypeCode\\\": \\\"unknown\\\", \\\"visibility\\\": \\\"private\\\", \\\"smbiosAssetTag\\\": null, \\\"sourceImageId\\\": 210, \\\"serviceVersion\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"serverModel\\\": null, \\\"plan\\\": \\\"at.customplan\\\", \\\"createUser\\\": true, \\\"platformVersion\\\": null, \\\"powerState\\\": \\\"on\\\", \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"parentServerId\\\": 4188, \\\"maxCores\\\": 2, \\\"isVpcSelectable\\\": true, \\\"serialNumber\\\": null, \\\"agentVersion\\\": null, \\\"internalSshUsername\\\": null, \\\"displayName\\\": \\\"at-ansible-instance\\\", \\\"name\\\": \\\"at-ansible-instance\\\", \\\"configRole\\\": null, \\\"domainName\\\": null, \\\"noAgent\\\": true, \\\"dataDevice\\\": \\\"/dev/vda\\\", \\\"fqdn\\\": \\\"at-ansible-instance\\\", \\\"serverVendor\\\": null, \\\"serverTypeCode\\\": \\\"vmwareVm\\\", \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"statusMessage\\\": null, \\\"volumes\\\": [{\\\"deviceName\\\": \\\"/dev/sda\\\", \\\"name\\\": \\\"root\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN04] at-ansible-instance/at-ansible-instance.vmdk\\\", \\\"unitNumber\\\": \\\"0\\\", \\\"maxStorage\\\": 10737418240, \\\"rootVolume\\\": true, \\\"uniqueId\\\": \\\"morpheus-vol-586-3015-0\\\", \\\"externalId\\\": \\\"2000\\\", \\\"id\\\": 17044, \\\"displayOrder\\\": 0}], \\\"configGroup\\\": null, \\\"consoleUsername\\\": null, \\\"agentInstalled\\\": false, \\\"nodePackageVersion\\\": null, \\\"osDevice\\\": \\\"/dev/vda\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"uniqueId\\\": \\\"422d278c-d7d6-129b-e299-8ab88e507ef4\\\"}, \\\"gateway\\\": null, \\\"networkInterfaces\\\": [{\\\"ipMode\\\": null, \\\"ipAddress\\\": null, \\\"id\\\": \\\"network-448\\\", \\\"networkInterfaceTypeId\\\": 4, \\\"network\\\": {\\\"subnet\\\": null, \\\"group\\\": null, \\\"name\\\": \\\"VLAN0002 - Internal Server 2\\\", \\\"dhcpServer\\\": true, \\\"id\\\": 448, \\\"pool\\\": null}}], \\\"networkId\\\": null, \\\"poolProviderType\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"maxCpu\\\": null, \\\"storageController\\\": [{\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 4, \\\"name\\\": \\\"SCSI 0\\\", \\\"maxDevices\\\": 16, \\\"editable\\\": false, \\\"typeName\\\": \\\"SCSI LSI Logic Parallel\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"scsi\\\", \\\"id\\\": 52, \\\"displayOrder\\\": 0, \\\"reservedUnitNumber\\\": 7}, {\\\"busNumber\\\": \\\"1\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 1\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 54, \\\"displayOrder\\\": 1, \\\"reservedUnitNumber\\\": -1}, {\\\"busNumber\\\": \\\"0\\\", \\\"typeId\\\": 2, \\\"name\\\": \\\"IDE 0\\\", \\\"maxDevices\\\": 2, \\\"editable\\\": false, \\\"typeName\\\": \\\"IDE\\\", \\\"unitNumber\\\": null, \\\"removable\\\": false, \\\"active\\\": true, \\\"category\\\": \\\"ide\\\", \\\"id\\\": 53, \\\"displayOrder\\\": 2, \\\"reservedUnitNumber\\\": -1}], \\\"vmwareUsr\\\": null, \\\"image\\\": \\\"unknown\\\", \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"memorySize\\\": null, \\\"towerConfig\\\": {\\\"host\\\": {\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}, \\\"hosts\\\": [{\\\"externalId\\\": \\\"1948\\\", \\\"id\\\": 6270}], \\\"groups\\\": [{\\\"externalId\\\": \\\"85\\\", \\\"id\\\": 6269}]}, \\\"id\\\": 3015, \\\"coresPerSocket\\\": 2, \\\"maxStorage\\\": 10737418240, \\\"containerTypeCode\\\": \\\"vmware-centos-7.5\\\", \\\"osDiskSize\\\": null, \\\"maxCores\\\": 2, \\\"externalIp\\\": \\\"10.32.23.59\\\", \\\"memoryDisplay\\\": \\\"MB\\\", \\\"dnsServers\\\": null, \\\"hostMountPoint\\\": \\\"/morpheus/container_3015\\\", \\\"status\\\": \\\"pending\\\", \\\"provisionType\\\": \\\"vmware\\\", \\\"hostId\\\": null, \\\"dataPath\\\": \\\"unknown\\\", \\\"expose\\\": [], \\\"memory\\\": 2147483648, \\\"externalPort\\\": 22, \\\"smbiosAssetTag\\\": null, \\\"sshHost\\\": \\\"10.32.23.59\\\", \\\"netmask\\\": null, \\\"storagePodId\\\": null, \\\"logsPath\\\": \\\"unknown\\\", \\\"createUser\\\": true, \\\"configRole\\\": null, \\\"networkType\\\": null, \\\"dateCreated\\\": \\\"2024-04-12T10:15:00Z\\\", \\\"vmwareCustomSpec\\\": null, \\\"folder\\\": \\\"/\\\", \\\"isVpcSelectable\\\": true, \\\"containerTypeName\\\": \\\"CentOS 7.5\\\", \\\"changeManagementServiceId\\\": null, \\\"resourcePool\\\": \\\"pool-602\\\", \\\"taskSetId\\\": 19, \\\"containerTypeCategory\\\": \\\"centos\\\", \\\"name\\\": \\\"centos_3015\\\", \\\"planCode\\\": \\\"at.customplan\\\", \\\"domainName\\\": \\\"localdomain\\\", \\\"noAgent\\\": true, \\\"publicKeyId\\\": null, \\\"internalIp\\\": \\\"10.32.23.59\\\", \\\"certificatePath\\\": null, \\\"internalHostname\\\": \\\"container3015\\\", \\\"configPath\\\": \\\"unknown\\\", \\\"cpuCount\\\": null, \\\"hosts\\\": {\\\"container3015\\\": \\\"127.0.0.1\\\"}, \\\"environmentPrefix\\\": \\\"unknown\\\", \\\"volumes\\\": [{\\\"planResizable\\\": true, \\\"typeId\\\": 1, \\\"configurableIOPS\\\": false, \\\"resizeable\\\": true, \\\"id\\\": 9255, \\\"displayOrder\\\": 0, \\\"size\\\": 10, \\\"uuid\\\": \\\"f36bc494-c4ab-44ef-890c-8a275ff5bac6\\\", \\\"minStorage\\\": 5368709120, \\\"maxStorage\\\": 5368709120, \\\"rootVolume\\\": true, \\\"uniqueId\\\": null, \\\"externalId\\\": \\\"2000\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\\\", \\\"storageType\\\": 1, \\\"virtualImageId\\\": 210, \\\"unitNumber\\\": \\\"0\\\", \\\"name\\\": \\\"root\\\", \\\"controllerId\\\": 18296, \\\"controllerMountPoint\\\": \\\"18296:0:4:0\\\", \\\"maxIOPS\\\": null, \\\"datastoreId\\\": \\\"auto\\\"}], \\\"cores\\\": 2, \\\"serverId\\\": 8627, \\\"internalPort\\\": 22, \\\"ipAddress\\\": null, \\\"ports\\\": [{\\\"index\\\": 0, \\\"displayName\\\": \\\"SSH\\\", \\\"name\\\": \\\"rpc\\\", \\\"primaryPort\\\": false, \\\"loadBalance\\\": false, \\\"exportName\\\": null, \\\"protocol\\\": null, \\\"visible\\\": true, \\\"internal\\\": 22, \\\"link\\\": false, \\\"external\\\": 22, \\\"export\\\": false, \\\"loadBalanceProtocol\\\": null}], \\\"datastoreId\\\": null}, \\\"deployGroup\\\": null, \\\"domainName\\\": \\\"localdomain\\\", \\\"apps\\\": [], \\\"hostname\\\": \\\"at-ansible-instance\\\", \\\"instanceContext\\\": null, \\\"userStatus\\\": \\\"unknown\\\", \\\"createdByEmail\\\": \\\"asingh2@morpheusdata.com\\\", \\\"tags\\\": \\\"unknown\\\", \\\"memory\\\": 2147483648, \\\"instanceTypeName\\\": \\\"CentOS\\\", \\\"input\\\": {\\\"powerScheduleType\\\": \\\"1\\\", \\\"lbInstances\\\": [], \\\"hostName\\\": \\\"at-ansible-instance\\\", \\\"site\\\": {\\\"id\\\": 2}, \\\"scaleTypeId\\\": null, \\\"configEnabled\\\": false, \\\"instanceType\\\": {\\\"code\\\": null}, \\\"expireDays\\\": null, \\\"layout\\\": {\\\"code\\\": \\\"vmware-centos-7.5-single\\\", \\\"id\\\": 308}, \\\"copies\\\": 1, \\\"zoneId\\\": 14, \\\"servicePlanOptions\\\": {\\\"coresPerSocket\\\": 2, \\\"totalStorage\\\": 10, \\\"maxCores\\\": 2, \\\"maxMemory\\\": 2147483648, \\\"forPlan\\\": 7595}, \\\"userGroup\\\": {\\\"id\\\": \\\"\\\"}, \\\"appDeploy\\\": null, \\\"type\\\": \\\"centos\\\", \\\"metadata\\\": [], \\\"exposedPorts\\\": {\\\"loadBalanceProtocol\\\": [], \\\"port\\\": [], \\\"name\\\": []}, \\\"plan\\\": {\\\"id\\\": 7595}, \\\"instanceContext\\\": null, \\\"domainOptions\\\": {}, \\\"taskSetId\\\": 19, \\\"name\\\": \\\"at-ansible-instance\\\", \\\"environmentPrefix\\\": null, \\\"shutdownDays\\\": null, \\\"config\\\": {\\\"poolProviderType\\\": null, \\\"hostId\\\": null, \\\"nestedVirtualization\\\": null, \\\"expose\\\": [], \\\"isEC2\\\": false, \\\"smbiosAssetTag\\\": null, \\\"resourcePoolId\\\": \\\"pool-602\\\", \\\"executeMode\\\": \\\"executeHost\\\", \\\"vmwareFolderId\\\": \\\"/\\\", \\\"noAgent\\\": true, \\\"createUser\\\": true, \\\"memoryDisplay\\\": \\\"MB\\\", \\\"isVpcSelectable\\\": true}, \\\"instanceThresholdId\\\": null, \\\"layoutSize\\\": null, \\\"environmentVariables\\\": [], \\\"servicePlanId\\\": 7595, \\\"securityGroups\\\": null, \\\"replicationGroup\\\": null, \\\"backup\\\": {\\\"createBackup\\\": false, \\\"providerBackupType\\\": -1, \\\"jobAction\\\": \\\"new\\\", \\\"veeamManagedServer\\\": \\\"\\\", \\\"jobRetentionCount\\\": 3}}, \\\"autoScale\\\": false, \\\"memoryDisplay\\\": \\\"MB\\\", \\\"instanceTypeCode\\\": \\\"centos\\\", \\\"metadata\\\": {}, \\\"status\\\": \\\"removing\\\", \\\"hostId\\\": null, \\\"firewallEnabled\\\": true, \\\"description\\\": null, \\\"adminPassword\\\": null, \\\"layoutId\\\": 308, \\\"createdByFirstName\\\": \\\"ATUL\\\", \\\"createdByUser\\\": {\\\"username\\\": \\\"asingh\\\", \\\"displayName\\\": \\\"ATUL SINGH\\\", \\\"firstName\\\": \\\"ATUL\\\", \\\"lastName\\\": \\\"SINGH\\\", \\\"linuxUsername\\\": \\\"asingh\\\", \\\"email\\\": \\\"asingh2@morpheusdata.com\\\", \\\"windowsUsername\\\": \\\"asingh\\\", \\\"id\\\": 1, \\\"accountId\\\": 1}, \\\"expose\\\": [], \\\"smbiosAssetTag\\\": null, \\\"networkLevel\\\": \\\"container\\\", \\\"scheduleStatus\\\": \\\"unknown\\\", \\\"plan\\\": \\\"at.customplan\\\", \\\"createUser\\\": true, \\\"customOptions\\\": null, \\\"servicePassword\\\": null, \\\"layoutName\\\": \\\"VMware VM\\\", \\\"isVpcSelectable\\\": true, \\\"createdByLastName\\\": \\\"SINGH\\\", \\\"expireDate\\\": null, \\\"displayName\\\": \\\"at-ansible-instance\\\", \\\"name\\\": \\\"at-ansible-instance\\\", \\\"environmentPrefix\\\": null, \\\"layoutSize\\\": 1, \\\"createdByUsername\\\": \\\"asingh\\\", \\\"noAgent\\\": true, \\\"configId\\\": null, \\\"createBackup\\\": true, \\\"sslEnabled\\\": false, \\\"createdById\\\": 1, \\\"statusMessage\\\": null, \\\"configRole\\\": null, \\\"cores\\\": 2, \\\"cloudConfig\\\": {\\\"agentInstallTerraform\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"network\\\": \\\"version: 1\\\\nconfig:\\\\n- type: physical\\\\n  name: eth0\\\\n  subnets:\\\\n  - type: dhcp\\\\n  mac_address: 00:50:56:ad:ba:dc\\\\n\\\", \\\"finalizeServer\\\": \\\"curl -k --data \\\\\\\"apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" https://10.32.23.86/api/cloud-config/finalize-server\\\", \\\"agentInstallTerraformLinux\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"agentInstallTerraformWindows\\\": \\\"cd $$${env:commonprogramfiles(x86)}\\\\n$serviceName = \\\\\\\"Morpheus Windows Agent\\\\\\\"\\\\nStart-Transcript -Path \\\\t\\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\morpheus_install_script.log\\\\\\\" -Append -Force\\\\n$msiName = \\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\ntry {\\\\n\\\\t$hasDotNet45 = (Get-ItemProperty 'HKLM:\\\\\\\\SOFTWARE\\\\\\\\Microsoft\\\\\\\\NET Framework Setup\\\\\\\\NDP\\\\\\\\v4\\\\\\\\Full'  -Name Release).Release | ForEach-Object { $_ -ge 379893 }\\\\n  if($hasDotNet45 -eq $True) {\\\\n\\\\t$msiName = \\\\\\\"MorpheusAgentSetup-4_5.msi\\\\\\\"\\\\n  }\\\\t\\\\n} catch {\\\\n}\\\\n[System.Net.ServicePointManager]::ServerCertificateValidationCallback = {$true}\\\\ntry {\\\\n\\\\t[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\\\t\\\\n} \\\\nCatch {\\\\n}\\\\necho \\\\\\\"Downloading...\\\\\\\"\\\\n$dS=$false\\\\n$dAt=0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\t$df = \\\\\\\"$$${env:commonprogramfiles(x86)}\\\\\\\\MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\t\\\\t$ws = (New-Object System.Net.WebClient).OpenRead(\\\\\\\"https://10.32.23.86//msi/morpheus-agent/$msiName\\\\\\\")\\\\n\\\\t\\\\t$file = [System.IO.File]::OpenWrite($df)\\\\n\\\\t\\\\t$bR=1\\\\n\\\\t\\\\t$buf = [array]::createInstance([byte],1000)\\\\n\\\\t\\\\tDo {\\\\n\\\\t\\\\t\\\\t$bR = $ws.Read($buf,0,$buf.Length)\\\\n\\\\t\\\\t\\\\t$file.Write($buf,0,$bR)\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tWhile ($bR -gt 0)\\\\n\\\\t\\\\techo \\\\\\\"Agent Downloaded...\\\\\\\"\\\\n\\\\t\\\\t$ws.Flush()\\\\n\\\\t\\\\t$file.Flush()\\\\n\\\\t\\\\t$ws.Close()\\\\n\\\\t\\\\t$file.Close()\\\\n\\\\t\\\\t$dS=$true\\\\n\\\\t\\\\tbreak\\\\n\\\\t}\\\\n\\\\tCatch [Exception] {\\\\n\\\\t\\\\techo $_.Exception|format-list -force\\\\n\\\\t\\\\t$dAt++\\\\n\\\\t\\\\tStart-Sleep -s 10\\\\n\\\\t}\\\\t\\\\n} While ( $dAt -lt 3 )\\\\nif ($dS -ne $true) {exit 1}\\\\nWait-Process -name msiexec\\\\nif(Get-Service $serviceName -ErrorAction SilentlyContinue) {\\\\n Stop-Service -displayname $serviceName -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Stop-Process -Force -processname Morpheus* -ErrorAction SilentlyContinue\\\\n Start-Sleep -s 5\\\\n try {\\\\n \\\\t$serviceId = (get-wmiobject Win32_Product -Filter \\\\\\\"Name = 'Morpheus Windows Agent'\\\\\\\" | Format-Wide -Property IdentifyingNumber | Out-String).Trim()\\\\t\\\\n } \\\\n Catch {\\\\n \\\\t$serviceId = $df\\\\n }\\\\n \\\\n cmd.exe /c \\\\\\\"msiexec /x $serviceId /q /passive\\\\\\\"\\\\n}\\\\necho \\\\\\\"Running Msi\\\\\\\"\\\\n$MSIArguments= @(\\\\n\\\\\\\"/i\\\\\\\"\\\\n\\\\\\\"MorpheusAgentSetup.msi\\\\\\\"\\\\n\\\\\\\"/qn\\\\\\\"\\\\n\\\\\\\"/norestart\\\\\\\"\\\\n\\\\\\\"/l*v\\\\\\\"\\\\n\\\\\\\"morpheus_install.log\\\\\\\"\\\\n\\\\\\\"apiKey=`\\\\\\\"7529c1ef-9498-49e0-b18a-4402d1837a85`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"host=`\\\\\\\"https://10.32.23.86/`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"username=`\\\\\\\".\\\\\\\\LocalSystem`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"vmMode=`\\\\\\\"true`\\\\\\\"\\\\\\\" \\\\n\\\\\\\"verifySsl=`\\\\\\\"false`\\\\\\\"\\\\\\\"\\\\n\\\\\\\"logLevel=`\\\\\\\"3`\\\\\\\"\\\\\\\"\\\\n)\\\\n$installResults = Start-Process msiexec.exe -Verb runAs -Wait -ArgumentList $MSIArguments\\\\n$a = 0\\\\n$f = 0\\\\nDo {\\\\n\\\\ttry {\\\\n\\\\t\\\\tGet-Service $serviceName -ea silentlycontinue -ErrorVariable err\\\\n\\\\t\\\\tif([string]::isNullOrEmpty($err)) {\\\\n\\\\t\\\\t\\\\t$f = 1\\\\n\\\\t\\\\t\\\\tBreak\\\\t\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t\\\\t$a++\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n\\\\tCatch {\\\\n\\\\t\\\\tstart-sleep -s 10\\\\n\\\\t\\\\t$a++\\\\n\\\\t}\\\\n}\\\\nWhile ($a -ne 6)\\\\nSet-Service $serviceName -startuptype \\\\\\\"automatic\\\\\\\"\\\\n$service = Get-WmiObject -Class Win32_Service -Filter \\\\\\\"Name='$serviceName'\\\\\\\"\\\\n& sc.exe failure \\\\\\\"$serviceName\\\\\\\" reset= 30 actions= restart/30000/restart/30000/restart/4000\\\\nif ($service -And $service.State -ne \\\\\\\"Running\\\\\\\") {Restart-Service -displayname $serviceName}\\\\n\\\", \\\"agentInstall\\\": \\\"curl -k -s \\\\\\\"https://10.32.23.86/api/server-script/agentInstall?apiKey=7529c1ef-9498-49e0-b18a-4402d1837a85\\\\\\\" | bash\\\", \\\"meta\\\": \\\"instance-id: morpheus-container-3015\\\\nlocal-hostname: at-ansible-instance\\\\nnetwork-interfaces: |\\\\n  auto lo\\\\n  iface lo inet loopback\\\\n  auto eth0\\\\n  iface eth0 inet dhcp\\\\n\\\\n\\\", \\\"user\\\": \\\"#cloud-config\\\\n\\\\nhostname: at-ansible-instance\\\\npackage_update: false\\\\npackages:\\\\n- curl\\\\nssh_pwauth: true\\\\ngrowpart:\\\\n  mode: auto\\\\n  devices:\\\\n  - /\\\\n  ignore_growroot_disabled: true\\\\nchpasswd:\\\\n  expire: false\\\\n  list: centos:$6$rounds=4096$A38JfH$.tskwMw6WGBfo2GTqb01V5..JVKYXJNSYCCGbavGk83QgBrFAr8sTKPbU/ZHIDuF20ad5oLvZPaf0z8VSKiYq1\\\\nusers:\\\\n- name: asingh\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$oInMWP$y9r1pQSzulkkrKrvWF1DR0SiA9cGHdgjhQB74nGVAQAlsM17jOfh0M4qf0iN0A2JrFHHPtbc.InSA.2EivACC1\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\n- name: centos\\\\n  lock-passwd: false\\\\n  shell: /bin/bash\\\\n  passwd: $6$rounds=4096$y29iMO$1THFuuZmca802IlkG1DEl5EjTOPKMsPcxQHnOGCdWXKAjx1A8LbnrvGnjbo5CdlQf0XbaeqIh4YJv9MAjR8IQ/\\\\n  sudo: ALL=(ALL) ALL\\\\n  ssh-authorized-keys:\\\\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD4csNETVDJDB4EZahMNIvF8KeyBESXL9yn/uS4T79gvTfwIvm2swp0b511Lnet7lieV6JIb4bJtv4/39G1v6kTMqcwcAN5d6TYs56amucbNuGRIEOPIRGiaUt1bW4IojPMBweaKK5BW8GFj8HsjsBORJZrxQPR9571hgNIZJE5rkkhOf3pTjGXtQGAsL0Z9sh8FkNbxnFx3U1rKdaSFyMjcgehHvAaqJCSXymVoBuwBUb48RU5d0kPoas2zAELPWChhjA4uWoHA/L8N4WtwXjAxoDHbaxXHDp4z9m7TkYOvkjpraRoqz2f3dp7VR8Z7OdyyvPOuZaLSQeZX/CuRdRb morpheus-MORPHEUS-DATA-INDIA\\\\nmanage_resolv_conf: true\\\\nresolv_conf:\\\\n  searchdomains:\\\\n  - localdomain\\\\n  - localdomain\\\\n  domain: localdomain\\\\nruncmd:\\\\n- echo '127.0.0.1 at-ansible-instance.localdomain at-ansible-instance localhost' >> /etc/hosts\\\\n- 'echo ''manual_cache_clean: True'' >> /etc/cloud/cloud.cfg.d/99-manual-cache.cfg'\\\\n- sed -i \\\\\\\"s/^Defaults targetpw/#Defaults targetpw/\\\\\\\" /etc/sudoers\\\\n- service sshd reload\\\\n- curl -k -XPOST --header \\\\\\\"Content-Type:application/octet-stream\\\\\\\" --data-binary \\\\\\\"@/var/log/cloud-init-output.log\\\\\\\" https://10.32.23.86/api/cloud-config/log-output/7529c1ef-9498-49e0-b18a-4402d1837a85\\\\n\\\"}, \\\"backup\\\": {\\\"createBackup\\\": false, \\\"providerBackupType\\\": -1, \\\"jobAction\\\": \\\"new\\\", \\\"veeamManagedServer\\\": \\\"\\\", \\\"jobRetentionCount\\\": 3}, \\\"ports\\\": null}, \\\"maxCores\\\": 2, \\\"hostId\\\": null, \\\"user\\\": {\\\"username\\\": \\\"velan\\\", \\\"displayName\\\": \\\"Singaravelan Senthilkarasu\\\", \\\"firstName\\\": \\\"Singaravelan\\\", \\\"lastName\\\": \\\"Senthilkarasu\\\", \\\"linuxUsername\\\": null, \\\"email\\\": \\\"vsenthilkarasu@morpheusdata.com\\\", \\\"windowsUsername\\\": null, \\\"id\\\": 6, \\\"accountId\\\": 1}, \\\"createUser\\\": true, \\\"vmwareCustomSpec\\\": null, \\\"cloudCode\\\": \\\"vmware\\\", \\\"taskSetId\\\": 19, \\\"domainName\\\": null, \\\"netmask\\\": null, \\\"volumes\\\": [{\\\"planResizable\\\": true, \\\"typeId\\\": 1, \\\"configurableIOPS\\\": false, \\\"resizeable\\\": true, \\\"id\\\": 9255, \\\"displayOrder\\\": 0, \\\"size\\\": 10, \\\"uuid\\\": \\\"f36bc494-c4ab-44ef-890c-8a275ff5bac6\\\", \\\"minStorage\\\": 5368709120, \\\"maxStorage\\\": 5368709120, \\\"rootVolume\\\": true, \\\"uniqueId\\\": null, \\\"externalId\\\": \\\"2000\\\", \\\"internalId\\\": \\\"[ESXi-DC2-DEMO-LUN02] Morpheus CentOS 7.5 v4/Morpheus CentOS 7.5 v4.vmdk\\\", \\\"storageType\\\": 1, \\\"virtualImageId\\\": 210, \\\"unitNumber\\\": \\\"0\\\", \\\"name\\\": \\\"root\\\", \\\"controllerId\\\": 18296, \\\"controllerMountPoint\\\": \\\"18296:0:4:0\\\", \\\"maxIOPS\\\": null, \\\"datastoreId\\\": \\\"auto\\\"}], \\\"ipAddress\\\": null, \\\"datastoreId\\\": null}}\",\"job_tags\":\"\",\"force_handlers\":false,\"skip_tags\":\"\",\"start_at_task\":\"\",\"timeout\":0,\"use_fact_cache\":false,\"unified_job_template\":28,\"launch_type\":\"manual\",\"status\":\"failed\",\"failed\":true,\"started\":\"2024-04-12T12:09:14.610813Z\",\"finished\":\"2024-04-12T12:09:24.024859Z\",\"elapsed\":9.414,\"job_args\":\"[\\\"bwrap\\\", \\\"--unshare-pid\\\", \\\"--dev-bind\\\", \\\"/\\\", \\\"/\\\", \\\"--proc\\\", \\\"/proc\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmpUOPATB\\\", \\\"/etc/tower\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmpipNYPH\\\", \\\"/tmp\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmpUSowCD\\\", \\\"/var/lib/awx\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmptQOHD0\\\", \\\"/var/lib/awx/job_status\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmpsj_V7C\\\", \\\"/var/lib/awx/projects\\\", \\\"--bind\\\", \\\"/tmp/awx_proot_V1We_t/tmpLln_9i\\\", \\\"/var/log\\\", \\\"--ro-bind\\\", \\\"/var/lib/awx/venv/ansible\\\", \\\"/var/lib/awx/venv/ansible\\\", \\\"--ro-bind\\\", \\\"/var/lib/awx/venv/awx\\\", \\\"/var/lib/awx/venv/awx\\\", \\\"--bind\\\", \\\"/tmp/awx_5132_0iMqVB\\\", \\\"/tmp/awx_5132_0iMqVB\\\", \\\"--bind\\\", \\\"/var/lib/awx/projects/_17__ct_demo_project\\\", \\\"/var/lib/awx/projects/_17__ct_demo_project\\\", \\\"--chdir\\\", \\\"/var/lib/awx/projects/_17__ct_demo_project\\\", \\\"ansible-playbook\\\", \\\"-i\\\", \\\"/tmp/awx_5132_0iMqVB/tmp5kCmbd\\\", \\\"-u\\\", \\\"ctaylor\\\", \\\"--ask-pass\\\", \\\"-l\\\", \\\"at-ansible-instance.localdomain\\\", \\\"-e\\\", \\\"@/tmp/awx_5132_0iMqVB/tmpCPcfrq\\\", \\\"helloworld.yml\\\"]\",\"job_cwd\":\"/var/lib/awx/projects/_17__ct_demo_project\",\"job_env\":{\"ANSIBLE_RETRY_FILES_ENABLED\":\"False\",\"AWX_PRIVATE_DATA_DIR\":\"/tmp/awx_5132_0iMqVB\",\"PROJECT_REVISION\":\"775e45bbd5926d4123bdef114ccb08c8a60c46b3\",\"_MP_FORK_LOGFILE_\":\"\",\"CELERY_LOG_REDIRECT\":\"1\",\"USER\":\"awx\",\"ANSIBLE_INVENTORY_UNPARSED_FAILED\":\"True\",\"HOME\":\"/var/lib/awx\",\"ANSIBLE_SSH_CONTROL_PATH_DIR\":\"/tmp/awx_5132_0iMqVB/cp\",\"ANSIBLE_CALLBACK_PLUGINS\":\"/var/lib/awx/venv/awx/lib/python2.7/site-packages/awx/plugins/callback\",\"LANG\":\"en_US.UTF-8\",\"VIRTUAL_ENV\":\"/var/lib/awx/venv/ansible\",\"SUPERVISOR_SERVER_URL\":\"unix:///var/run/supervisor/supervisor.sock\",\"TZ\":\"UTC\",\"ANSIBLE_PARAMIKO_RECORD_HOST_KEYS\":\"False\",\"_MP_FORK_LOGFORMAT_\":\"[%(asctime)s: %(levelname)s/%(processName)s] %(message)s\",\"MAX_EVENT_RES\":\"700000\",\"SUPERVISOR_ENABLED\":\"1\",\"CELERY_LOG_FILE\":\"\",\"DJANGO_PROJECT_DIR\":\"/var/lib/awx/venv/awx/lib/python2.7/site-packages\",\"CACHE\":\"unix:/var/run/memcached/memcached.sock\",\"ANSIBLE_HOST_KEY_CHECKING\":\"False\",\"DJANGO_LIVE_TEST_SERVER_ADDRESS\":\"localhost:9013-9199\",\"JOB_ID\":\"5132\",\"ANSIBLE_STDOUT_CALLBACK\":\"awx_display\",\"PYTHONPATH\":\"/var/lib/awx/venv/ansible/lib/python2.7/site-packages:\",\"PATH\":\"/var/lib/awx/venv/ansible/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin\",\"SUPERVISOR_PROCESS_NAME\":\"awx-celeryd\",\"_MP_FORK_LOGLEVEL_\":\"10\",\"INVENTORY_HOSTVARS\":\"True\",\"ANSIBLE_FORCE_COLOR\":\"True\",\"CELERY_LOG_REDIRECT_LEVEL\":\"WARNING\",\"CELERY_LOADER\":\"djcelery.loaders.DjangoLoader\",\"CELERY_LOG_LEVEL\":\"10\",\"AWX_HOST\":\"https://10.30.20.62\",\"INVENTORY_ID\":\"46\",\"DJANGO_SETTINGS_MODULE\":\"awx.settings.production\",\"ANSIBLE_INVENTORY_ENABLED\":\"script\",\"ANSIBLE_VENV_PATH\":\"/var/lib/awx/venv/ansible\",\"PROOT_TMP_DIR\":\"/tmp\",\"SUPERVISOR_GROUP_NAME\":\"tower-processes\"},\"job_explanation\":\"\",\"execution_node\":\"localhost\",\"controller_node\":\"\",\"result_traceback\":\"\",\"event_processing_finished\":true,\"job_template\":28,\"passwords_needed_to_start\":[],\"ask_diff_mode_on_launch\":false,\"ask_variables_on_launch\":true,\"ask_limit_on_launch\":true,\"ask_tags_on_launch\":false,\"ask_skip_tags_on_launch\":false,\"ask_job_type_on_launch\":false,\"ask_verbosity_on_launch\":false,\"ask_inventory_on_launch\":true,\"ask_credential_on_launch\":false,\"allow_simultaneous\":true,\"artifacts\":{},\"scm_revision\":\"775e45bbd5926d4123bdef114ccb08c8a60c46b3\",\"instance_group\":1,\"diff_mode\":false,\"host_status_counts\":{\"dark\":1},\"playbook_counts\":{\"play_count\":1,\"task_count\":1},\"credential\":9,\"vault_credential\":null,\"externalId\":5132}"
  refId = "26"
  refType = "AccountIntegration"
  startDate = "2024-04-12T12:19:25.000Z"
}